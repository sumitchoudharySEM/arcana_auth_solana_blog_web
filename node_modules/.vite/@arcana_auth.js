import {
  init_define_process_env
} from "./chunk-KP4UBDXM.js";

// dep:@arcana_auth
init_define_process_env();

// node_modules/@arcana/auth/dist/standalone/auth.esm.js
init_define_process_env();
function e(e2, t2, n2, r2) {
  return new (n2 || (n2 = Promise))(function(i2, o2) {
    function s2(e3) {
      try {
        l2(r2.next(e3));
      } catch (e4) {
        o2(e4);
      }
    }
    function a2(e3) {
      try {
        l2(r2.throw(e3));
      } catch (e4) {
        o2(e4);
      }
    }
    function l2(e3) {
      var t3;
      e3.done ? i2(e3.value) : (t3 = e3.value, t3 instanceof n2 ? t3 : new n2(function(e4) {
        e4(t3);
      })).then(s2, a2);
    }
    l2((r2 = r2.apply(e2, t2 || [])).next());
  });
}
var t = {};
var n = {};
var r = a;
a.default = a, a.stable = u, a.stableStringify = u;
var i = [];
var o = [];
function s() {
  return { depthLimit: Number.MAX_SAFE_INTEGER, edgesLimit: Number.MAX_SAFE_INTEGER };
}
function a(e2, t2, n2, r2) {
  var a2;
  r2 === void 0 && (r2 = s()), c(e2, "", 0, [], void 0, 0, r2);
  try {
    a2 = o.length === 0 ? JSON.stringify(e2, t2, n2) : JSON.stringify(e2, f(t2), n2);
  } catch (e3) {
    return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]");
  } finally {
    for (; i.length !== 0; ) {
      var l2 = i.pop();
      l2.length === 4 ? Object.defineProperty(l2[0], l2[1], l2[3]) : l2[0][l2[1]] = l2[2];
    }
  }
  return a2;
}
function l(e2, t2, n2, r2) {
  var s2 = Object.getOwnPropertyDescriptor(r2, n2);
  s2.get !== void 0 ? s2.configurable ? (Object.defineProperty(r2, n2, { value: e2 }), i.push([r2, n2, t2, s2])) : o.push([t2, n2, e2]) : (r2[n2] = e2, i.push([r2, n2, t2]));
}
function c(e2, t2, n2, r2, i2, o2, s2) {
  var a2;
  if (o2 += 1, typeof e2 == "object" && e2 !== null) {
    for (a2 = 0; a2 < r2.length; a2++)
      if (r2[a2] === e2)
        return void l("[Circular]", e2, t2, i2);
    if (s2.depthLimit !== void 0 && o2 > s2.depthLimit)
      return void l("[...]", e2, t2, i2);
    if (s2.edgesLimit !== void 0 && n2 + 1 > s2.edgesLimit)
      return void l("[...]", e2, t2, i2);
    if (r2.push(e2), Array.isArray(e2))
      for (a2 = 0; a2 < e2.length; a2++)
        c(e2[a2], a2, a2, r2, e2, o2, s2);
    else {
      var d2 = Object.keys(e2);
      for (a2 = 0; a2 < d2.length; a2++) {
        var u2 = d2[a2];
        c(e2[u2], u2, a2, r2, e2, o2, s2);
      }
    }
    r2.pop();
  }
}
function d(e2, t2) {
  return e2 < t2 ? -1 : e2 > t2 ? 1 : 0;
}
function u(e2, t2, n2, r2) {
  r2 === void 0 && (r2 = s());
  var a2, l2 = h(e2, "", 0, [], void 0, 0, r2) || e2;
  try {
    a2 = o.length === 0 ? JSON.stringify(l2, t2, n2) : JSON.stringify(l2, f(t2), n2);
  } catch (e3) {
    return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]");
  } finally {
    for (; i.length !== 0; ) {
      var c2 = i.pop();
      c2.length === 4 ? Object.defineProperty(c2[0], c2[1], c2[3]) : c2[0][c2[1]] = c2[2];
    }
  }
  return a2;
}
function h(e2, t2, n2, r2, o2, s2, a2) {
  var c2;
  if (s2 += 1, typeof e2 == "object" && e2 !== null) {
    for (c2 = 0; c2 < r2.length; c2++)
      if (r2[c2] === e2)
        return void l("[Circular]", e2, t2, o2);
    try {
      if (typeof e2.toJSON == "function")
        return;
    } catch (e3) {
      return;
    }
    if (a2.depthLimit !== void 0 && s2 > a2.depthLimit)
      return void l("[...]", e2, t2, o2);
    if (a2.edgesLimit !== void 0 && n2 + 1 > a2.edgesLimit)
      return void l("[...]", e2, t2, o2);
    if (r2.push(e2), Array.isArray(e2))
      for (c2 = 0; c2 < e2.length; c2++)
        h(e2[c2], c2, c2, r2, e2, s2, a2);
    else {
      var u2 = {}, f2 = Object.keys(e2).sort(d);
      for (c2 = 0; c2 < f2.length; c2++) {
        var p2 = f2[c2];
        h(e2[p2], p2, c2, r2, e2, s2, a2), u2[p2] = e2[p2];
      }
      if (o2 === void 0)
        return u2;
      i.push([o2, t2, e2]), o2[t2] = u2;
    }
    r2.pop();
  }
}
function f(e2) {
  return e2 = e2 !== void 0 ? e2 : function(e3, t2) {
    return t2;
  }, function(t2, n2) {
    if (o.length > 0)
      for (var r2 = 0; r2 < o.length; r2++) {
        var i2 = o[r2];
        if (i2[1] === t2 && i2[0] === n2) {
          n2 = i2[2], o.splice(r2, 1);
          break;
        }
      }
    return e2.call(this, t2, n2);
  };
}
Object.defineProperty(n, "__esModule", { value: true }), n.EthereumProviderError = n.EthereumRpcError = void 0;
var p = r;
var g = class extends Error {
  constructor(e2, t2, n2) {
    if (!Number.isInteger(e2))
      throw new Error('"code" must be an integer.');
    if (!t2 || typeof t2 != "string")
      throw new Error('"message" must be a nonempty string.');
    super(t2), this.code = e2, n2 !== void 0 && (this.data = n2);
  }
  serialize() {
    const e2 = { code: this.code, message: this.message };
    return this.data !== void 0 && (e2.data = this.data), this.stack && (e2.stack = this.stack), e2;
  }
  toString() {
    return p.default(this.serialize(), _, 2);
  }
};
n.EthereumRpcError = g;
function _(e2, t2) {
  if (t2 !== "[Circular]")
    return t2;
}
n.EthereumProviderError = class extends g {
  constructor(e2, t2, n2) {
    if (!function(e3) {
      return Number.isInteger(e3) && e3 >= 1e3 && e3 <= 4999;
    }(e2))
      throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');
    super(e2, t2, n2);
  }
};
var m = {};
var v = {};
Object.defineProperty(v, "__esModule", { value: true }), v.errorValues = v.errorCodes = void 0, v.errorCodes = { rpc: { invalidInput: -32e3, resourceNotFound: -32001, resourceUnavailable: -32002, transactionRejected: -32003, methodNotSupported: -32004, limitExceeded: -32005, parse: -32700, invalidRequest: -32600, methodNotFound: -32601, invalidParams: -32602, internal: -32603 }, provider: { userRejectedRequest: 4001, unauthorized: 4100, unsupportedMethod: 4200, disconnected: 4900, chainDisconnected: 4901 } }, v.errorValues = { "-32700": { standard: "JSON RPC 2.0", message: "Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text." }, "-32600": { standard: "JSON RPC 2.0", message: "The JSON sent is not a valid Request object." }, "-32601": { standard: "JSON RPC 2.0", message: "The method does not exist / is not available." }, "-32602": { standard: "JSON RPC 2.0", message: "Invalid method parameter(s)." }, "-32603": { standard: "JSON RPC 2.0", message: "Internal JSON-RPC error." }, "-32000": { standard: "EIP-1474", message: "Invalid input." }, "-32001": { standard: "EIP-1474", message: "Resource not found." }, "-32002": { standard: "EIP-1474", message: "Resource unavailable." }, "-32003": { standard: "EIP-1474", message: "Transaction rejected." }, "-32004": { standard: "EIP-1474", message: "Method not supported." }, "-32005": { standard: "EIP-1474", message: "Request limit exceeded." }, 4001: { standard: "EIP-1193", message: "User rejected the request." }, 4100: { standard: "EIP-1193", message: "The requested account and/or method has not been authorized by the user." }, 4200: { standard: "EIP-1193", message: "The requested method is not supported by this Ethereum provider." }, 4900: { standard: "EIP-1193", message: "The provider is disconnected from all chains." }, 4901: { standard: "EIP-1193", message: "The provider is disconnected from the specified chain." } }, function(e2) {
  Object.defineProperty(e2, "__esModule", { value: true }), e2.serializeError = e2.isValidCode = e2.getMessageFromCode = e2.JSON_RPC_SERVER_ERROR_MESSAGE = void 0;
  const t2 = v, r2 = n, i2 = t2.errorCodes.rpc.internal, o2 = { code: i2, message: s2(i2) };
  function s2(n2, r3 = "Unspecified error message. This is a bug, please report it.") {
    if (Number.isInteger(n2)) {
      const r4 = n2.toString();
      if (d2(t2.errorValues, r4))
        return t2.errorValues[r4].message;
      if (l2(n2))
        return e2.JSON_RPC_SERVER_ERROR_MESSAGE;
    }
    return r3;
  }
  function a2(e3) {
    if (!Number.isInteger(e3))
      return false;
    const n2 = e3.toString();
    return !!t2.errorValues[n2] || !!l2(e3);
  }
  function l2(e3) {
    return e3 >= -32099 && e3 <= -32e3;
  }
  function c2(e3) {
    return e3 && typeof e3 == "object" && !Array.isArray(e3) ? Object.assign({}, e3) : e3;
  }
  function d2(e3, t3) {
    return Object.prototype.hasOwnProperty.call(e3, t3);
  }
  e2.JSON_RPC_SERVER_ERROR_MESSAGE = "Unspecified server error.", e2.getMessageFromCode = s2, e2.isValidCode = a2, e2.serializeError = function(e3, { fallbackError: t3 = o2, shouldIncludeStack: n2 = false } = {}) {
    var i3, l3;
    if (!t3 || !Number.isInteger(t3.code) || typeof t3.message != "string")
      throw new Error("Must provide fallback error with integer number code and string message.");
    if (e3 instanceof r2.EthereumRpcError)
      return e3.serialize();
    const u2 = {};
    if (e3 && typeof e3 == "object" && !Array.isArray(e3) && d2(e3, "code") && a2(e3.code)) {
      const t4 = e3;
      u2.code = t4.code, t4.message && typeof t4.message == "string" ? (u2.message = t4.message, d2(t4, "data") && (u2.data = t4.data)) : (u2.message = s2(u2.code), u2.data = { originalError: c2(e3) });
    } else {
      u2.code = t3.code;
      const n3 = (i3 = e3) === null || i3 === void 0 ? void 0 : i3.message;
      u2.message = n3 && typeof n3 == "string" ? n3 : t3.message, u2.data = { originalError: c2(e3) };
    }
    const h2 = (l3 = e3) === null || l3 === void 0 ? void 0 : l3.stack;
    return n2 && e3 && h2 && typeof h2 == "string" && (u2.stack = h2), u2;
  };
}(m);
var y = {};
Object.defineProperty(y, "__esModule", { value: true }), y.ethErrors = void 0;
var w = n;
var b = m;
var x = v;
function C(e2, t2) {
  const [n2, r2] = L(t2);
  return new w.EthereumRpcError(e2, n2 || b.getMessageFromCode(e2), r2);
}
function E(e2, t2) {
  const [n2, r2] = L(t2);
  return new w.EthereumProviderError(e2, n2 || b.getMessageFromCode(e2), r2);
}
function L(e2) {
  if (e2) {
    if (typeof e2 == "string")
      return [e2];
    if (typeof e2 == "object" && !Array.isArray(e2)) {
      const { message: t2, data: n2 } = e2;
      if (t2 && typeof t2 != "string")
        throw new Error("Must specify string message.");
      return [t2 || void 0, n2];
    }
  }
  return [];
}
y.ethErrors = { rpc: { parse: (e2) => C(x.errorCodes.rpc.parse, e2), invalidRequest: (e2) => C(x.errorCodes.rpc.invalidRequest, e2), invalidParams: (e2) => C(x.errorCodes.rpc.invalidParams, e2), methodNotFound: (e2) => C(x.errorCodes.rpc.methodNotFound, e2), internal: (e2) => C(x.errorCodes.rpc.internal, e2), server: (e2) => {
  if (!e2 || typeof e2 != "object" || Array.isArray(e2))
    throw new Error("Ethereum RPC Server errors must provide single object argument.");
  const { code: t2 } = e2;
  if (!Number.isInteger(t2) || t2 > -32005 || t2 < -32099)
    throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');
  return C(t2, e2);
}, invalidInput: (e2) => C(x.errorCodes.rpc.invalidInput, e2), resourceNotFound: (e2) => C(x.errorCodes.rpc.resourceNotFound, e2), resourceUnavailable: (e2) => C(x.errorCodes.rpc.resourceUnavailable, e2), transactionRejected: (e2) => C(x.errorCodes.rpc.transactionRejected, e2), methodNotSupported: (e2) => C(x.errorCodes.rpc.methodNotSupported, e2), limitExceeded: (e2) => C(x.errorCodes.rpc.limitExceeded, e2) }, provider: { userRejectedRequest: (e2) => E(x.errorCodes.provider.userRejectedRequest, e2), unauthorized: (e2) => E(x.errorCodes.provider.unauthorized, e2), unsupportedMethod: (e2) => E(x.errorCodes.provider.unsupportedMethod, e2), disconnected: (e2) => E(x.errorCodes.provider.disconnected, e2), chainDisconnected: (e2) => E(x.errorCodes.provider.chainDisconnected, e2), custom: (e2) => {
  if (!e2 || typeof e2 != "object" || Array.isArray(e2))
    throw new Error("Ethereum Provider custom errors must provide single object argument.");
  const { code: t2, message: n2, data: r2 } = e2;
  if (!n2 || typeof n2 != "string")
    throw new Error('"message" must be a nonempty string');
  return new w.EthereumProviderError(t2, n2, r2);
} } }, function(e2) {
  Object.defineProperty(e2, "__esModule", { value: true }), e2.getMessageFromCode = e2.serializeError = e2.EthereumProviderError = e2.EthereumRpcError = e2.ethErrors = e2.errorCodes = void 0;
  const t2 = n;
  Object.defineProperty(e2, "EthereumRpcError", { enumerable: true, get: function() {
    return t2.EthereumRpcError;
  } }), Object.defineProperty(e2, "EthereumProviderError", { enumerable: true, get: function() {
    return t2.EthereumProviderError;
  } });
  const r2 = m;
  Object.defineProperty(e2, "serializeError", { enumerable: true, get: function() {
    return r2.serializeError;
  } }), Object.defineProperty(e2, "getMessageFromCode", { enumerable: true, get: function() {
    return r2.getMessageFromCode;
  } });
  const i2 = y;
  Object.defineProperty(e2, "ethErrors", { enumerable: true, get: function() {
    return i2.ethErrors;
  } });
  const o2 = v;
  Object.defineProperty(e2, "errorCodes", { enumerable: true, get: function() {
    return o2.errorCodes;
  } });
}(t);
var k;
var S = {};
var N = { exports: {} };
var I = typeof Reflect == "object" ? Reflect : null;
var O = I && typeof I.apply == "function" ? I.apply : function(e2, t2, n2) {
  return Function.prototype.apply.call(e2, t2, n2);
};
k = I && typeof I.ownKeys == "function" ? I.ownKeys : Object.getOwnPropertySymbols ? function(e2) {
  return Object.getOwnPropertyNames(e2).concat(Object.getOwnPropertySymbols(e2));
} : function(e2) {
  return Object.getOwnPropertyNames(e2);
};
var R = Number.isNaN || function(e2) {
  return e2 != e2;
};
function P() {
  P.init.call(this);
}
N.exports = P, N.exports.once = function(e2, t2) {
  return new Promise(function(n2, r2) {
    function i2(n3) {
      e2.removeListener(t2, o2), r2(n3);
    }
    function o2() {
      typeof e2.removeListener == "function" && e2.removeListener("error", i2), n2([].slice.call(arguments));
    }
    z(e2, t2, o2, { once: true }), t2 !== "error" && function(e3, t3, n3) {
      typeof e3.on == "function" && z(e3, "error", t3, n3);
    }(e2, i2, { once: true });
  });
}, P.EventEmitter = P, P.prototype._events = void 0, P.prototype._eventsCount = 0, P.prototype._maxListeners = void 0;
var A = 10;
function j(e2) {
  if (typeof e2 != "function")
    throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof e2);
}
function F(e2) {
  return e2._maxListeners === void 0 ? P.defaultMaxListeners : e2._maxListeners;
}
function D(e2, t2, n2, r2) {
  var i2, o2, s2, a2;
  if (j(n2), (o2 = e2._events) === void 0 ? (o2 = e2._events = Object.create(null), e2._eventsCount = 0) : (o2.newListener !== void 0 && (e2.emit("newListener", t2, n2.listener ? n2.listener : n2), o2 = e2._events), s2 = o2[t2]), s2 === void 0)
    s2 = o2[t2] = n2, ++e2._eventsCount;
  else if (typeof s2 == "function" ? s2 = o2[t2] = r2 ? [n2, s2] : [s2, n2] : r2 ? s2.unshift(n2) : s2.push(n2), (i2 = F(e2)) > 0 && s2.length > i2 && !s2.warned) {
    s2.warned = true;
    var l2 = new Error("Possible EventEmitter memory leak detected. " + s2.length + " " + String(t2) + " listeners added. Use emitter.setMaxListeners() to increase limit");
    l2.name = "MaxListenersExceededWarning", l2.emitter = e2, l2.type = t2, l2.count = s2.length, a2 = l2, console && console.warn && console.warn(a2);
  }
  return e2;
}
function $() {
  if (!this.fired)
    return this.target.removeListener(this.type, this.wrapFn), this.fired = true, arguments.length === 0 ? this.listener.call(this.target) : this.listener.apply(this.target, arguments);
}
function U(e2, t2, n2) {
  var r2 = { fired: false, wrapFn: void 0, target: e2, type: t2, listener: n2 }, i2 = $.bind(r2);
  return i2.listener = n2, r2.wrapFn = i2, i2;
}
function M(e2, t2, n2) {
  var r2 = e2._events;
  if (r2 === void 0)
    return [];
  var i2 = r2[t2];
  return i2 === void 0 ? [] : typeof i2 == "function" ? n2 ? [i2.listener || i2] : [i2] : n2 ? function(e3) {
    for (var t3 = new Array(e3.length), n3 = 0; n3 < t3.length; ++n3)
      t3[n3] = e3[n3].listener || e3[n3];
    return t3;
  }(i2) : T(i2, i2.length);
}
function W(e2) {
  var t2 = this._events;
  if (t2 !== void 0) {
    var n2 = t2[e2];
    if (typeof n2 == "function")
      return 1;
    if (n2 !== void 0)
      return n2.length;
  }
  return 0;
}
function T(e2, t2) {
  for (var n2 = new Array(t2), r2 = 0; r2 < t2; ++r2)
    n2[r2] = e2[r2];
  return n2;
}
function z(e2, t2, n2, r2) {
  if (typeof e2.on == "function")
    r2.once ? e2.once(t2, n2) : e2.on(t2, n2);
  else {
    if (typeof e2.addEventListener != "function")
      throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof e2);
    e2.addEventListener(t2, function i2(o2) {
      r2.once && e2.removeEventListener(t2, i2), n2(o2);
    });
  }
}
Object.defineProperty(P, "defaultMaxListeners", { enumerable: true, get: function() {
  return A;
}, set: function(e2) {
  if (typeof e2 != "number" || e2 < 0 || R(e2))
    throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + e2 + ".");
  A = e2;
} }), P.init = function() {
  this._events !== void 0 && this._events !== Object.getPrototypeOf(this)._events || (this._events = Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
}, P.prototype.setMaxListeners = function(e2) {
  if (typeof e2 != "number" || e2 < 0 || R(e2))
    throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + e2 + ".");
  return this._maxListeners = e2, this;
}, P.prototype.getMaxListeners = function() {
  return F(this);
}, P.prototype.emit = function(e2) {
  for (var t2 = [], n2 = 1; n2 < arguments.length; n2++)
    t2.push(arguments[n2]);
  var r2 = e2 === "error", i2 = this._events;
  if (i2 !== void 0)
    r2 = r2 && i2.error === void 0;
  else if (!r2)
    return false;
  if (r2) {
    var o2;
    if (t2.length > 0 && (o2 = t2[0]), o2 instanceof Error)
      throw o2;
    var s2 = new Error("Unhandled error." + (o2 ? " (" + o2.message + ")" : ""));
    throw s2.context = o2, s2;
  }
  var a2 = i2[e2];
  if (a2 === void 0)
    return false;
  if (typeof a2 == "function")
    O(a2, this, t2);
  else {
    var l2 = a2.length, c2 = T(a2, l2);
    for (n2 = 0; n2 < l2; ++n2)
      O(c2[n2], this, t2);
  }
  return true;
}, P.prototype.addListener = function(e2, t2) {
  return D(this, e2, t2, false);
}, P.prototype.on = P.prototype.addListener, P.prototype.prependListener = function(e2, t2) {
  return D(this, e2, t2, true);
}, P.prototype.once = function(e2, t2) {
  return j(t2), this.on(e2, U(this, e2, t2)), this;
}, P.prototype.prependOnceListener = function(e2, t2) {
  return j(t2), this.prependListener(e2, U(this, e2, t2)), this;
}, P.prototype.removeListener = function(e2, t2) {
  var n2, r2, i2, o2, s2;
  if (j(t2), (r2 = this._events) === void 0)
    return this;
  if ((n2 = r2[e2]) === void 0)
    return this;
  if (n2 === t2 || n2.listener === t2)
    --this._eventsCount == 0 ? this._events = Object.create(null) : (delete r2[e2], r2.removeListener && this.emit("removeListener", e2, n2.listener || t2));
  else if (typeof n2 != "function") {
    for (i2 = -1, o2 = n2.length - 1; o2 >= 0; o2--)
      if (n2[o2] === t2 || n2[o2].listener === t2) {
        s2 = n2[o2].listener, i2 = o2;
        break;
      }
    if (i2 < 0)
      return this;
    i2 === 0 ? n2.shift() : function(e3, t3) {
      for (; t3 + 1 < e3.length; t3++)
        e3[t3] = e3[t3 + 1];
      e3.pop();
    }(n2, i2), n2.length === 1 && (r2[e2] = n2[0]), r2.removeListener !== void 0 && this.emit("removeListener", e2, s2 || t2);
  }
  return this;
}, P.prototype.off = P.prototype.removeListener, P.prototype.removeAllListeners = function(e2) {
  var t2, n2, r2;
  if ((n2 = this._events) === void 0)
    return this;
  if (n2.removeListener === void 0)
    return arguments.length === 0 ? (this._events = Object.create(null), this._eventsCount = 0) : n2[e2] !== void 0 && (--this._eventsCount == 0 ? this._events = Object.create(null) : delete n2[e2]), this;
  if (arguments.length === 0) {
    var i2, o2 = Object.keys(n2);
    for (r2 = 0; r2 < o2.length; ++r2)
      (i2 = o2[r2]) !== "removeListener" && this.removeAllListeners(i2);
    return this.removeAllListeners("removeListener"), this._events = Object.create(null), this._eventsCount = 0, this;
  }
  if (typeof (t2 = n2[e2]) == "function")
    this.removeListener(e2, t2);
  else if (t2 !== void 0)
    for (r2 = t2.length - 1; r2 >= 0; r2--)
      this.removeListener(e2, t2[r2]);
  return this;
}, P.prototype.listeners = function(e2) {
  return M(this, e2, true);
}, P.prototype.rawListeners = function(e2) {
  return M(this, e2, false);
}, P.listenerCount = function(e2, t2) {
  return typeof e2.listenerCount == "function" ? e2.listenerCount(t2) : W.call(e2, t2);
}, P.prototype.listenerCount = W, P.prototype.eventNames = function() {
  return this._eventsCount > 0 ? k(this._events) : [];
}, Object.defineProperty(S, "__esModule", { value: true });
var q = N.exports;
function H(e2, t2, n2) {
  try {
    Reflect.apply(e2, t2, n2);
  } catch (e3) {
    setTimeout(() => {
      throw e3;
    });
  }
}
var V = class extends q.EventEmitter {
  emit(e2, ...t2) {
    let n2 = e2 === "error";
    const r2 = this._events;
    if (r2 !== void 0)
      n2 = n2 && r2.error === void 0;
    else if (!n2)
      return false;
    if (n2) {
      let e3;
      if (t2.length > 0 && ([e3] = t2), e3 instanceof Error)
        throw e3;
      const n3 = new Error("Unhandled error." + (e3 ? ` (${e3.message})` : ""));
      throw n3.context = e3, n3;
    }
    const i2 = r2[e2];
    if (i2 === void 0)
      return false;
    if (typeof i2 == "function")
      H(i2, this, t2);
    else {
      const e3 = i2.length, n3 = function(e4) {
        const t3 = e4.length, n4 = new Array(t3);
        for (let r3 = 0; r3 < t3; r3 += 1)
          n4[r3] = e4[r3];
        return n4;
      }(i2);
      for (let r3 = 0; r3 < e3; r3 += 1)
        H(n3[r3], this, t2);
    }
    return true;
  }
};
var G = S.default = V;
var J = class extends Error {
  constructor(e2, t2) {
    super(e2), this.message = t2, this.message = `Arcana SDK error: [${e2}] ${t2}`;
  }
};
var K = new J("user_not_logged_in", "User is not logged in");
var B = new J("wallet_not_initialized", "AuthProvider is not initialized. Please run `await auth.init(...)` before calling functions");
var Z = new class {
  constructor(e2, t2) {
    this.message = `Arcana SDK warning: [${e2}] ${t2}`;
  }
  log() {
    console.warn(this.message);
  }
}("duplicate_iframe", "Duplicate iframe detected, please keep a single instance of AuthProvider");
var Y = { NOTSET: 0, DEBUG: 1, INFO: 2, WARNING: 3, ERROR: 4, NOLOGS: 5 };
var X = {};
var Q = Y.NOLOGS;
var ee = null;
var te = (e2) => {
  Q = e2;
};
var ne = (e2) => (X[e2] || (X[e2] = new re(Q, e2)), X[e2]);
var re = class {
  constructor(e2, t2) {
    this.logLevel = e2, this.prefix = "[ARCANA_AUTH]", t2 && (this.prefix += `[${t2}]`);
  }
  log(e2, t2, n2 = {}) {
    this.internalLog(Y[e2], t2, n2);
  }
  info(e2, t2 = {}) {
    this.internalLog(Y.INFO, e2, t2);
  }
  debug(e2, t2 = {}) {
    this.internalLog(Y.DEBUG, e2, t2);
  }
  warn(e2, t2 = {}) {
    this.internalLog(Y.WARNING, e2, t2);
  }
  error(e2, t2 = {}) {
    var n2;
    t2 instanceof Error && this.internalLog(Y.ERROR, e2, `${t2.name}: ${t2.message}: ${t2.stack}`), this.internalLog(Y.ERROR, e2, t2), n2 = JSON.stringify({ message: e2, params: t2 }), ee && ee(n2);
  }
  internalLog(e2, t2, n2) {
    const r2 = `${this.prefix} - ${this.getLogLevelName(e2)} ${this.getTime()} ${t2} 
[PARAMS]: ${JSON.stringify(n2)}
          `;
    this.consoleLog(e2, r2);
  }
  getLogLevelName(e2) {
    switch (e2) {
      case Y.DEBUG:
        return "DEBUG";
      case Y.INFO:
        return "INFO";
      case Y.WARNING:
        return "WARN";
      case Y.ERROR:
        return "ERROR";
      default:
        return "NOTSET";
    }
  }
  getTime() {
    return new Date().toLocaleTimeString();
  }
  consoleLog(e2, t2) {
    if (!(e2 < this.logLevel))
      switch (e2) {
        case Y.DEBUG:
          console.debug(t2);
          break;
        case Y.WARNING:
          console.warn(t2);
          break;
        case Y.ERROR:
          console.error(t2);
          break;
        case Y.INFO:
          console.info(t2);
          break;
        default:
          console.log(t2);
      }
  }
};
var ie = "data:image/svg+xml,%3Csvg width='151' height='147' viewBox='0 0 151 147' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg opacity='0.419035'%3E%3Cpath d='M94.3585 4.39385C94.3585 6.8206 92.3736 8.78798 89.9253 8.78798C87.477 8.78798 85.4922 6.8206 85.4922 4.39385C85.4922 1.96723 87.477 0 89.9253 0C92.3736 0 94.3585 1.96723 94.3585 4.39385Z' fill='%233CA6FA'/%3E%3C/g%3E%3Cg opacity='0.796078'%3E%3Cpath d='M59.4441 15.3287L56.8114 16.8352C56.3347 17.108 55.7253 16.9461 55.4501 16.4737L50.6962 8.31243C50.421 7.84009 50.5844 7.23603 51.0609 6.96337L53.6938 5.45667C54.1703 5.184 54.7797 5.34582 55.055 5.81815L59.8088 13.9795C60.0841 14.452 59.9207 15.0559 59.4441 15.3287Z' fill='%233CA6FA'/%3E%3C/g%3E%3Cg opacity='0.796078'%3E%3Cpath d='M15.0339 32.3637L15.6261 32.5628C16.2975 32.7886 17.0381 32.6722 17.6065 32.2519L18.1077 31.8812C19.5388 30.8226 21.5735 31.8501 21.5507 33.6199L21.5427 34.2397C21.5336 34.9425 21.8739 35.6047 22.4528 36.0106L22.9635 36.3685C24.4215 37.3904 24.0642 39.6257 22.359 40.1512L21.7618 40.3352C21.0846 40.5438 20.5546 41.0694 20.3442 41.7405L20.1584 42.3325C19.6284 44.0226 17.3731 44.3766 16.342 42.9315L15.9807 42.4255C15.5713 41.8517 14.9032 41.5142 14.1942 41.5233L13.5688 41.5311C11.7833 41.5537 10.7467 39.5372 11.8147 38.1186L12.1888 37.6218C12.613 37.0586 12.7302 36.3245 12.5024 35.6589L12.3015 35.0719C11.7281 33.3957 13.3427 31.7954 15.0339 32.3637Z' fill='%233CA6FA'/%3E%3C/g%3E%3Cg opacity='0.796078'%3E%3Cpath d='M11.2466 63.5287L11.9116 66.4689C12.032 67.0012 11.6943 67.5295 11.1572 67.6487L1.87966 69.7101C1.34269 69.8293 0.809791 69.4946 0.689237 68.9623L0.0243071 66.0219C-0.0959554 65.4897 0.241739 64.9615 0.778708 64.8423L10.0564 62.7809C10.5933 62.6617 11.1262 62.9964 11.2466 63.5287Z' fill='%239DE000'/%3E%3C/g%3E%3Cg opacity='0.796078'%3E%3Cpath d='M20.6082 100.625C20.6082 103.052 18.6234 105.019 16.1752 105.019C13.7268 105.019 11.7422 103.052 11.7422 100.625C11.7422 98.1987 13.7268 96.2314 16.1752 96.2314C18.6234 96.2314 20.6082 98.1987 20.6082 100.625Z' fill='%23F23D3D'/%3E%3C/g%3E%3Cg opacity='0.796078'%3E%3Cpath d='M15.0339 122.725L15.6261 122.924C16.2975 123.15 17.0381 123.034 17.6065 122.613L18.1077 122.242C19.5388 121.184 21.5735 122.211 21.5507 123.981L21.5427 124.601C21.5336 125.304 21.8739 125.966 22.4528 126.372L22.9635 126.73C24.4215 127.752 24.0642 129.987 22.359 130.513L21.7618 130.697C21.0846 130.905 20.5546 131.431 20.3442 132.102L20.1584 132.694C19.6284 134.384 17.3731 134.738 16.342 133.293L15.9807 132.787C15.5713 132.213 14.9032 131.876 14.1942 131.885L13.5688 131.893C11.7833 131.915 10.7467 129.899 11.8147 128.48L12.1888 127.983C12.613 127.42 12.7302 126.686 12.5024 126.02L12.3015 125.433C11.7281 123.757 13.3427 122.157 15.0339 122.725Z' fill='%23FAEE3D'/%3E%3C/g%3E%3Cg opacity='0.796078'%3E%3Cpath d='M129.132 28.1704C127.789 26.435 128.205 23.8499 130.054 22.4436C131.903 21.0374 134.53 21.3082 135.873 23.0437C135.876 23.047 135.878 23.0503 135.881 23.0535' stroke='%23F23D3D' stroke-width='1.98137' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/g%3E%3Cg opacity='0.796078'%3E%3Cpath d='M140.862 52.2221L141.454 52.4212C142.126 52.647 142.866 52.5306 143.435 52.1103L143.936 51.7396C145.367 50.681 147.402 51.7085 147.379 53.4783L147.371 54.0981C147.362 54.8009 147.702 55.4631 148.281 55.869L148.792 56.2269C150.25 57.2488 149.893 59.4841 148.187 60.0096L147.59 60.1936C146.913 60.4022 146.383 60.9278 146.172 61.5989L145.986 62.1909C145.456 63.881 143.201 64.235 142.17 62.7899L141.809 62.2839C141.399 61.7101 140.732 61.3726 140.022 61.3817L139.397 61.3896C137.612 61.4121 136.575 59.3956 137.643 57.9771L138.017 57.4803C138.441 56.917 138.558 56.1829 138.33 55.5173L138.13 54.9303C137.556 53.2541 139.171 51.6538 140.862 52.2221Z' fill='%23FAEE3D'/%3E%3C/g%3E%3Cg opacity='0.796078'%3E%3Cpath d='M145.217 104.171C148.232 104.564 150.367 107.485 149.948 110.64C149.529 113.795 146.703 116.068 143.689 115.674C143.683 115.674 143.678 115.673 143.672 115.672' stroke='%23F23D3D' stroke-width='1.48603' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/g%3E%3Cg opacity='0.796078'%3E%3Cpath d='M135.718 141.235L133.085 142.742C132.608 143.014 131.999 142.852 131.724 142.38L126.97 134.219C126.694 133.746 126.858 133.142 127.334 132.87L129.967 131.363C130.444 131.09 131.053 131.252 131.328 131.724L136.082 139.886C136.357 140.358 136.194 140.962 135.718 141.235Z' fill='%233CA6FA'/%3E%3C/g%3E%3Cg opacity='0.796078'%3E%3Cpath d='M49.4302 146.001C47.5793 143.61 48.1523 140.048 50.6998 138.111C53.2472 136.174 56.8664 136.547 58.7173 138.938L58.7279 138.951' stroke='%233CA6FA' stroke-width='1.98137' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/g%3E%3Cpath d='M133.141 69.8273C133.141 98.8525 109.4 122.382 80.1137 122.382C50.8274 122.382 27.0859 98.8525 27.0859 69.8273C27.0859 40.802 50.8274 17.2725 80.1137 17.2725C109.4 17.2725 133.141 40.802 133.141 69.8273Z' fill='%239DE000'/%3E%3Cpath d='M56.6641 69.9175L72.2097 85.3247L103.481 54.332' stroke='white' stroke-width='5.7388' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E%0A";
var oe = (e2) => se(e2).length === 40;
var se = (e2) => e2.startsWith("0x") ? e2.substring(2) : e2;
var ae = (e2, t2 = true) => {
  const n2 = e2.toString(16);
  return t2 ? ((e3) => e3.startsWith("0x") ? e3 : `0x${e3}`)(n2) : se(n2);
};
var le = () => window.location.origin + window.location.pathname;
var ce = Math.floor(4294967295 * Math.random());
function de(e2) {
  return String.fromCharCode(parseInt(e2.slice(1), 16));
}
function ue(e2) {
  return t2 = JSON.stringify(e2), window.btoa(encodeURIComponent(t2).replace(/%[0-9A-F]{2}/g, de));
  var t2;
}
var he = class extends Error {
  constructor(e2, t2, n2 = "") {
    super(t2), this.code = e2, this.message = t2, this.data = n2;
  }
};
var fe = class extends G {
  constructor(e2) {
    super(), this.rpcConfig = e2, this.connected = false, this.logger = ne("ArcanaProvider"), this.onResponse = (e3, t2) => {
      this.subscriber.emit(`result:${e3}:${t2.id}`, t2);
    }, this.handleEvents = (e3, t2) => {
      switch (e3) {
        case "accountsChanged":
          this.emit(e3, [t2]);
          break;
        case "chainChanged":
          this.setChainId(t2), this.emit("chainChanged", ae(t2.chainId));
          break;
        case "connect":
          this.chainId = typeof t2 == "object" ? t2.chainId : "", this.connected = true, this.emit("connect", t2);
          break;
        case "disconnect":
          this.iframe.handleDisconnect(), this.connected = false, this.emit("disconnect", t2);
          break;
        case "message":
          this.emit("message", t2);
      }
    }, this.subscriber = new G();
  }
  isArcana() {
    return true;
  }
  init(t2, n2) {
    return e(this, void 0, void 0, function* () {
      this.iframe = t2;
      const { communication: e2 } = yield this.iframe.setConnectionMethods({ onEvent: this.handleEvents, onMethodResponse: (e3, t3) => {
        this.onResponse(e3, t3);
      }, getParentUrl: le, getAppMode: () => {
        var e3;
        return (e3 = this.iframe) === null || e3 === void 0 ? void 0 : e3.appMode;
      }, getAppConfig: this.iframe.getAppConfig, getWalletPosition: this.iframe.getWalletPlace, getRpcConfig: () => this.rpcConfig, sendPendingRequestCount: this.iframe.onReceivingPendingRequestCount, triggerSocialLogin: n2.loginWithSocial, triggerPasswordlessLogin: n2.loginWithLink, getPopupState: () => this.iframe.getState(), setIframeStyle: this.iframe.setIframeStyle, setSessionID: this.iframe.setSessionID, getSDKVersion: () => "v3" });
      this.communication = e2;
    });
  }
  isLoggedIn() {
    return e(this, void 0, void 0, function* () {
      try {
        return (yield this.getCommunication("isLoggedIn")).isLoggedIn();
      } catch (e2) {
        return this.logger.error("isLoggedIn", e2), false;
      }
    });
  }
  isConnected() {
    return e(this, void 0, void 0, function* () {
      return this.connected;
    });
  }
  isLoginAvailable(t2) {
    return e(this, void 0, void 0, function* () {
      const e2 = yield this.getCommunication("isLoginAvailable"), n2 = yield e2.isLoginAvailable(t2);
      return this.logger.info("loginAvailable", { [t2]: n2 }), n2;
    });
  }
  requestUserInfo() {
    return e(this, void 0, void 0, function* () {
      const e2 = yield this.getCommunication("getUserInfo");
      if (!(yield e2.isLoggedIn()))
        throw K;
      return yield e2.getUserInfo();
    });
  }
  getReconnectionUrl() {
    return e(this, void 0, void 0, function* () {
      const e2 = yield this.getCommunication("getReconnectionUrl");
      return yield e2.getReconnectionUrl();
    });
  }
  getPublicKey(t2, n2) {
    return e(this, void 0, void 0, function* () {
      return (yield this.getCommunication("getPublicKey")).getPublicKey(t2, n2);
    });
  }
  getAvailableLogins() {
    return e(this, void 0, void 0, function* () {
      const e2 = yield this.getCommunication("getAvailableLogins");
      return yield e2.getAvailableLogins();
    });
  }
  triggerLogout() {
    return e(this, void 0, void 0, function* () {
      const e2 = yield this.getCommunication("triggerLogout");
      yield e2.triggerLogout(true);
    });
  }
  initPasswordlessLogin(t2) {
    return e(this, void 0, void 0, function* () {
      const e2 = yield this.getCommunication("initPasswordlessLogin");
      return yield e2.initPasswordlessLogin(t2);
    });
  }
  initSocialLogin(t2) {
    return e(this, void 0, void 0, function* () {
      const e2 = yield this.getCommunication("initSocialLogin");
      return yield e2.initSocialLogin(t2);
    });
  }
  expandWallet() {
    return e(this, void 0, void 0, function* () {
      const e2 = yield this.getCommunication("expandWallet");
      return yield e2.expandWallet();
    });
  }
  getCommunication(t2 = "sendRequest") {
    return e(this, void 0, void 0, function* () {
      if (this.communication) {
        const e2 = yield this.communication.promise;
        if (!e2[t2])
          throw new J("fn_not_available", `The requested fn ${t2} is not available in this context`);
        return e2;
      }
      throw new J("connection_not_available", "The connection is not available yet");
    });
  }
  request(n2) {
    return e(this, void 0, void 0, function* () {
      if (!n2 || typeof n2 != "object" || Array.isArray(n2))
        throw t.ethErrors.rpc.invalidRequest({ message: "Invalid request arguments", data: n2 });
      const { method: r2, params: i2 } = n2;
      if (!r2)
        throw t.ethErrors.rpc.invalidRequest({ message: "Invalid method argument", data: n2 });
      const o2 = { method: r2, params: i2, jsonrpc: "2.0", id: (ce = (ce + 1) % 4294967295, ce) };
      return new Promise((t2, n3) => {
        this.getCommunication().then((i3) => e(this, void 0, void 0, function* () {
          this.getResponse(r2, o2.id).then(t2, n3), yield i3.sendRequest(o2);
        }), n3);
      });
    });
  }
  getResponse(e2, t2) {
    return new Promise((n2, r2) => {
      this.subscriber.once(`result:${e2}:${t2}`, (e3) => e3.error ? r2(pe(e3.error)) : n2(e3.result));
    });
  }
  setChainId(e2) {
    e2 && typeof e2 == "object" && "chainId" in e2 && typeof e2.chainId == "number" && (this.chainId = ae(e2.chainId));
  }
};
var pe = (e2) => {
  switch (ne("ArcanaProvider").error("getError", e2), e2) {
    case "user_deny":
      return new he(4001, "User rejected the request.");
    case "operation_not_supported":
      return new he(4200, "The requested method is not supported by this provider.");
    case "all_disconnected":
      return new he(4900, "The provider is disconnected from all chains. Login is pending.");
    default:
      return typeof e2 != "string" ? new he(e2.code, e2.message, e2.data) : t.ethErrors.rpc.internal(e2);
  }
};
var ge;
var _e;
var me;
var ve;
var ye;
var we;
var be;
var xe;
!function(e2) {
  e2[e2.CREATED = 0] = "CREATED", e2[e2.RUNNING = 1] = "RUNNING", e2[e2.DONE = 2] = "DONE";
}(ge || (ge = {})), function(e2) {
  e2.firebase = "firebase";
}(_e || (_e = {})), function(e2) {
  e2[e2.NoUI = 0] = "NoUI", e2[e2.Widget = 1] = "Widget", e2[e2.Full = 2] = "Full";
}(me || (me = {})), function(e2) {
  e2.Call = "call", e2.Reply = "reply", e2.Syn = "syn", e2.SynAck = "synAck", e2.Ack = "ack";
}(ve || (ve = {})), function(e2) {
  e2.Fulfilled = "fulfilled", e2.Rejected = "rejected";
}(ye || (ye = {})), function(e2) {
  e2.ConnectionDestroyed = "ConnectionDestroyed", e2.ConnectionTimeout = "ConnectionTimeout", e2.NoIframeSrc = "NoIframeSrc";
}(we || (we = {})), function(e2) {
  e2.DataCloneError = "DataCloneError";
}(be || (be = {})), function(e2) {
  e2.Message = "message";
}(xe || (xe = {}));
var Ce = { "http:": "80", "https:": "443" };
var Ee = /^(https?:)?\/\/([^/:]+)?(:(\d+))?/;
var Le = ["file:", "data:"];
var ke = ({ name: e2, message: t2, stack: n2 }) => ({ name: e2, message: t2, stack: n2 });
var Se = 0;
var Ne = () => ++Se;
var Ie = (e2) => e2 ? e2.split(".") : [];
var Oe = (e2, t2, n2) => {
  const r2 = Ie(t2);
  return r2.reduce((e3, t3, i2) => (e3[t3] === void 0 && (e3[t3] = {}), i2 === r2.length - 1 && (e3[t3] = n2), e3[t3]), e2), e2;
};
var Re = (e2, t2) => {
  const n2 = {};
  return Object.keys(e2).forEach((r2) => {
    const i2 = e2[r2], o2 = ((e3, t3) => {
      const n3 = Ie(t3 || "");
      return n3.push(e3), ((e4) => e4.join("."))(n3);
    })(r2, t2);
    typeof i2 == "object" && Object.assign(n2, Re(i2, o2)), typeof i2 == "function" && (n2[o2] = i2);
  }), n2;
};
var Pe = (e2, t2, n2, r2, i2) => {
  const { localName: o2, local: s2, remote: a2, originForSending: l2, originForReceiving: c2 } = t2;
  let d2 = false;
  i2(`${o2}: Connecting call sender`);
  const u2 = (e3) => (...t3) => {
    let n3;
    i2(`${o2}: Sending ${e3}() call`);
    try {
      a2.closed && (n3 = true);
    } catch (e4) {
      n3 = true;
    }
    if (n3 && r2(), d2) {
      const t4 = new Error(`Unable to send ${e3}() call due to destroyed connection`);
      throw t4.code = we.ConnectionDestroyed, t4;
    }
    return new Promise((n4, r3) => {
      const d3 = Ne(), u3 = (t4) => {
        if (t4.source !== a2 || t4.data.penpal !== ve.Reply || t4.data.id !== d3)
          return;
        if (c2 !== "*" && t4.origin !== c2)
          return void i2(`${o2} received message from origin ${t4.origin} which did not match expected origin ${c2}`);
        const l3 = t4.data;
        i2(`${o2}: Received ${e3}() reply`), s2.removeEventListener(xe.Message, u3);
        let h4 = l3.returnValue;
        l3.returnValueIsError && (h4 = ((e4) => {
          const t5 = new Error();
          return Object.keys(e4).forEach((n5) => t5[n5] = e4[n5]), t5;
        })(h4)), (l3.resolution === ye.Fulfilled ? n4 : r3)(h4);
      };
      s2.addEventListener(xe.Message, u3);
      const h3 = { penpal: ve.Call, id: d3, methodName: e3, args: t3 };
      a2.postMessage(h3, l2);
    });
  }, h2 = n2.reduce((e3, t3) => (e3[t3] = u2(t3), e3), {});
  return Object.assign(e2, ((e3) => {
    const t3 = {};
    for (const n3 in e3)
      Oe(t3, n3, e3[n3]);
    return t3;
  })(h2)), () => {
    d2 = true;
  };
};
var Ae = (e2, t2, n2, r2, i2) => {
  const { destroy: o2, onDestroy: s2 } = r2;
  let a2, l2;
  const c2 = {};
  return (r3) => {
    if (t2 !== "*" && r3.origin !== t2)
      return void i2(`Parent: Handshake - Received ACK message from origin ${r3.origin} which did not match expected origin ${t2}`);
    i2("Parent: Handshake - Received ACK");
    const d2 = { localName: "Parent", local: window, remote: r3.source, originForSending: n2, originForReceiving: t2 };
    a2 && a2(), a2 = ((e3, t3, n3) => {
      const { localName: r4, local: i3, remote: o3, originForSending: s3, originForReceiving: a3 } = e3;
      let l3 = false;
      const c3 = (e4) => {
        if (e4.source !== o3 || e4.data.penpal !== ve.Call)
          return;
        if (a3 !== "*" && e4.origin !== a3)
          return void n3(`${r4} received message from origin ${e4.origin} which did not match expected origin ${a3}`);
        const i4 = e4.data, { methodName: c4, args: d3, id: u3 } = i4;
        n3(`${r4}: Received ${c4}() call`);
        const h2 = (e5) => (t4) => {
          if (n3(`${r4}: Sending ${c4}() reply`), l3)
            return void n3(`${r4}: Unable to send ${c4}() reply due to destroyed connection`);
          const i5 = { penpal: ve.Reply, id: u3, resolution: e5, returnValue: t4 };
          e5 === ye.Rejected && t4 instanceof Error && (i5.returnValue = ke(t4), i5.returnValueIsError = true);
          try {
            o3.postMessage(i5, s3);
          } catch (e6) {
            if (e6.name === be.DataCloneError) {
              const t5 = { penpal: ve.Reply, id: u3, resolution: ye.Rejected, returnValue: ke(e6), returnValueIsError: true };
              o3.postMessage(t5, s3);
            }
            throw e6;
          }
        };
        new Promise((e5) => e5(t3[c4].apply(t3, d3))).then(h2(ye.Fulfilled), h2(ye.Rejected));
      };
      return i3.addEventListener(xe.Message, c3), () => {
        l3 = true, i3.removeEventListener(xe.Message, c3);
      };
    })(d2, e2, i2), s2(a2), l2 && l2.forEach((e3) => {
      delete c2[e3];
    }), l2 = r3.data.methodNames;
    const u2 = Pe(c2, d2, l2, o2, i2);
    return s2(u2), c2;
  };
};
var je = (e2) => {
  let { iframe: t2, methods: n2 = {}, childOrigin: r2, timeout: i2, debug: o2 = false } = e2;
  const s2 = ((e3) => (...t3) => {
    e3 && console.log("[Penpal]", ...t3);
  })(o2), a2 = ((e3, t3) => {
    const n3 = [];
    let r3 = false;
    return { destroy(i3) {
      r3 || (r3 = true, t3(`${e3}: Destroying connection`), n3.forEach((e4) => {
        e4(i3);
      }));
    }, onDestroy(e4) {
      r3 ? e4() : n3.push(e4);
    } };
  })("Parent", s2), { onDestroy: l2, destroy: c2 } = a2;
  r2 || (((e3) => {
    if (!e3.src && !e3.srcdoc) {
      const e4 = new Error("Iframe must have src or srcdoc property defined.");
      throw e4.code = we.NoIframeSrc, e4;
    }
  })(t2), r2 = ((e3) => {
    if (e3 && Le.find((t4) => e3.startsWith(t4)))
      return "null";
    const t3 = document.location, n3 = Ee.exec(e3);
    let r3, i3, o3;
    return n3 ? (r3 = n3[1] ? n3[1] : t3.protocol, i3 = n3[2], o3 = n3[4]) : (r3 = t3.protocol, i3 = t3.hostname, o3 = t3.port), `${r3}//${i3}${o3 && o3 !== Ce[r3] ? `:${o3}` : ""}`;
  })(t2.src));
  const d2 = r2 === "null" ? "*" : r2, u2 = Re(n2), h2 = ((e3, t3, n3, r3) => (i3) => {
    if (!i3.source)
      return;
    if (n3 !== "*" && i3.origin !== n3)
      return void e3(`Parent: Handshake - Received SYN message from origin ${i3.origin} which did not match expected origin ${n3}`);
    e3("Parent: Handshake - Received SYN, responding with SYN-ACK");
    const o3 = { penpal: ve.SynAck, methodNames: Object.keys(t3) };
    i3.source.postMessage(o3, r3);
  })(s2, u2, r2, d2), f2 = Ae(u2, r2, d2, a2, s2), p2 = new Promise((e3, n3) => {
    const r3 = ((e4, t3) => {
      let n4;
      return e4 !== void 0 && (n4 = window.setTimeout(() => {
        const n5 = new Error(`Connection timed out after ${e4}ms`);
        n5.code = we.ConnectionTimeout, t3(n5);
      }, e4)), () => {
        clearTimeout(n4);
      };
    })(i2, c2), o3 = (n4) => {
      if (n4.source === t2.contentWindow && n4.data)
        if (n4.data.penpal !== ve.Syn)
          if (n4.data.penpal !== ve.Ack)
            ;
          else {
            const t3 = f2(n4);
            t3 && (r3(), e3(t3));
          }
        else
          h2(n4);
    };
    window.addEventListener(xe.Message, o3), s2("Parent: Awaiting handshake"), ((e4, t3) => {
      const { destroy: n4, onDestroy: r4 } = t3, i3 = setInterval(() => {
        e4.isConnected || (clearInterval(i3), n4());
      }, 6e4);
      r4(() => {
        clearInterval(i3);
      });
    })(t2, a2), l2((e4) => {
      window.removeEventListener(xe.Message, o3), e4 && n3(e4);
    });
  });
  return { promise: p2, destroy() {
    c2();
  } };
};
var Fe = { border: "none", position: "fixed", height: 0, width: 0, right: 0, bottom: 0, zIndex: 2147483648 };
var De = class {
  constructor(e2) {
    this.params = e2, this.getSessionID = () => {
      const e3 = window.localStorage.getItem(`arcana-auth-${this.getIframeUrl()}-sessionID`);
      return e3 ? JSON.parse(e3) : null;
    }, this.setSessionID = (e3, t2) => {
      window.localStorage.setItem(`arcana-auth-${this.getIframeUrl()}-sessionID`, JSON.stringify({ id: e3, expiry: t2 }));
    }, this.clearSessionID = () => {
      window.localStorage.removeItem(`arcana-auth-${this.getIframeUrl()}-sessionID`);
    }, this.setIframeStyle = (e3) => {
      var t2;
      if (((t2 = this.params.standaloneMode) === null || t2 === void 0 ? void 0 : t2.mode) == 1)
        this.widgetIframe.style.height = e3.height ? e3.height : "80vh", this.widgetIframe.style.maxWidth = "100%", this.widgetIframe.style.width = "430px", this.widgetIframe.style.bottom = "0", this.widgetIframe.style.right = "0";
      else
        for (const t3 in e3)
          this.widgetIframe.style[t3] = e3[t3];
    }, this.getWalletPlace = () => this.params.position, this.getAppConfig = () => this.params.appConfig, this.checkDuplicateIframe(), this.checkSecureOrigin();
  }
  setConnectionMethods(t2) {
    return e(this, void 0, void 0, function* () {
      try {
        return this.iframeCommunication || (this.iframeCommunication = je({ iframe: this.widgetIframe, methods: Object.assign(Object.assign({}, t2), { uiEvent: (e2, t3) => {
          var n2;
          ((n2 = this.params.standaloneMode) === null || n2 === void 0 ? void 0 : n2.handler) && this.params.standaloneMode.handler(e2, t3);
        } }), childOrigin: this.params.iframeUrl }), yield this.iframeCommunication.promise), { iframe: this.widgetIframe, communication: this.iframeCommunication };
      } catch (e2) {
        throw new Error("Could not set connection methods");
      }
    });
  }
  triggerBearerAuthentication(t2, n2) {
    return e(this, void 0, void 0, function* () {
      return (yield this.iframeCommunication.promise).triggerBearerLogin(t2, n2);
    });
  }
  setWalletType(e2) {
    this.appMode = e2 != null ? e2 : me.Full, this.initWalletUI();
  }
  getState() {
    return this.state;
  }
  handleDisconnect() {
    this.widgetIframe.src = this.getIframeUrl(), this.clearSessionID();
  }
  onReceivingPendingRequestCount(e2) {
    const t2 = document.getElementById("req-count-badge");
    t2 && (e2 > 0 ? (t2.style.display = "flex", t2.textContent = `${e2}`) : t2.style.display = "none");
  }
  getIframeUrl() {
    var e2, t2;
    const n2 = ue({ standaloneMode: ((e2 = this.params.standaloneMode) === null || e2 === void 0 ? void 0 : e2.mode) ? (t2 = this.params.standaloneMode) === null || t2 === void 0 ? void 0 : t2.mode : 0 }), r2 = new URL(`/${this.params.appId}/v2/login`, this.params.iframeUrl);
    return r2.hash = n2, r2.toString();
  }
  createWidgetIframe() {
    return ((e2, t2, ...n2) => {
      const r2 = document.createElement(e2);
      t2 && (Object.assign(r2, t2), t2.style && Object.assign(r2.style, t2.style));
      for (const e3 of n2)
        typeof e3 != "string" ? r2.appendChild(e3) : r2.appendChild(document.createTextNode(e3));
      return r2;
    })("iframe", { style: Fe, src: this.getIframeUrl(), allow: "clipboard-write", className: "xar-wallet" });
  }
  checkDuplicateIframe() {
    [].slice.call(document.querySelectorAll(".xar-wallet")).length > 0 && Z.log();
  }
  initWalletUI() {
    this.widgetIframe = this.createWidgetIframe(), document.body.appendChild(this.widgetIframe);
  }
  checkSecureOrigin() {
    const e2 = location.hostname === "localhost" || location.hostname === "127.0.0.1", t2 = location.protocol === "https:";
    if (!(e2 || t2))
      throw new Error("Insecure origin");
  }
};
var $e = { authUrl: "https://verify.dev.arcana.network", gatewayUrl: "https://gateway-dev.arcana.network", walletUrl: "https://wallet.dev.arcana.network" };
var Ue = { authUrl: "https://verify.beta.arcana.network", gatewayUrl: "https://gateway001-testnet.arcana.network", walletUrl: "https://wallet.beta.arcana.network" };
var Me = { authUrl: "https://auth.arcana.network", gatewayUrl: "https://gateway.arcana.network", walletUrl: "https://wallet.arcana.network" };
function We(e2) {
  return We = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(e3) {
    return typeof e3;
  } : function(e3) {
    return e3 && typeof Symbol == "function" && e3.constructor === Symbol && e3 !== Symbol.prototype ? "symbol" : typeof e3;
  }, We(e2);
}
function Te(e2) {
  if (!(typeof e2 == "string" || e2 instanceof String)) {
    var t2 = We(e2);
    throw e2 === null ? t2 = "null" : t2 === "object" && (t2 = e2.constructor.name), new TypeError("Expected a string but received a ".concat(t2));
  }
}
function ze(e2) {
  return ze = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(e3) {
    return typeof e3;
  } : function(e3) {
    return e3 && typeof Symbol == "function" && e3.constructor === Symbol && e3 !== Symbol.prototype ? "symbol" : typeof e3;
  }, ze(e2);
}
function qe(e2, t2) {
  var n2, r2;
  Te(e2), ze(t2) === "object" ? (n2 = t2.min || 0, r2 = t2.max) : (n2 = arguments[1], r2 = arguments[2]);
  var i2 = encodeURI(e2).split(/%..|./).length - 1;
  return i2 >= n2 && (r2 === void 0 || i2 <= r2);
}
function He() {
  var e2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, t2 = arguments.length > 1 ? arguments[1] : void 0;
  for (var n2 in t2)
    e2[n2] === void 0 && (e2[n2] = t2[n2]);
  return e2;
}
var Ve = { require_tld: true, allow_underscores: false, allow_trailing_dot: false, allow_numeric_tld: false, allow_wildcard: false, ignore_max_length: false };
var Ge = "(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])";
var Je = "(".concat(Ge, "[.]){3}").concat(Ge);
var Ke = new RegExp("^".concat(Je, "$"));
var Be = "(?:[0-9a-fA-F]{1,4})";
var Ze = new RegExp("^(" + "(?:".concat(Be, ":){7}(?:").concat(Be, "|:)|") + "(?:".concat(Be, ":){6}(?:").concat(Je, "|:").concat(Be, "|:)|") + "(?:".concat(Be, ":){5}(?::").concat(Je, "|(:").concat(Be, "){1,2}|:)|") + "(?:".concat(Be, ":){4}(?:(:").concat(Be, "){0,1}:").concat(Je, "|(:").concat(Be, "){1,3}|:)|") + "(?:".concat(Be, ":){3}(?:(:").concat(Be, "){0,2}:").concat(Je, "|(:").concat(Be, "){1,4}|:)|") + "(?:".concat(Be, ":){2}(?:(:").concat(Be, "){0,3}:").concat(Je, "|(:").concat(Be, "){1,5}|:)|") + "(?:".concat(Be, ":){1}(?:(:").concat(Be, "){0,4}:").concat(Je, "|(:").concat(Be, "){1,6}|:)|") + "(?::((?::".concat(Be, "){0,5}:").concat(Je, "|(?::").concat(Be, "){1,7}|:))") + ")(%[0-9a-zA-Z-.:]{1,})?$");
function Ye(e2) {
  var t2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "";
  return Te(e2), (t2 = String(t2)) ? t2 === "4" ? Ke.test(e2) : t2 === "6" && Ze.test(e2) : Ye(e2, 4) || Ye(e2, 6);
}
var Xe = { allow_display_name: false, allow_underscores: false, require_display_name: false, allow_utf8_local_part: true, require_tld: true, blacklisted_chars: "", ignore_max_length: false, host_blacklist: [], host_whitelist: [] };
var Qe = /^([^\x00-\x1F\x7F-\x9F\cX]+)</i;
var et = /^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i;
var tt = /^[a-z\d]+$/;
var nt = /^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i;
var rt = /^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i;
var it = /^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;
function ot(e2, t2) {
  if (Te(e2), (t2 = He(t2, Xe)).require_display_name || t2.allow_display_name) {
    var n2 = e2.match(Qe);
    if (n2) {
      var r2 = n2[1];
      if (e2 = e2.replace(r2, "").replace(/(^<|>$)/g, ""), r2.endsWith(" ") && (r2 = r2.slice(0, -1)), !function(e3) {
        var t3 = e3.replace(/^"(.+)"$/, "$1");
        if (!t3.trim())
          return false;
        if (/[\.";<>]/.test(t3)) {
          if (t3 === e3)
            return false;
          if (t3.split('"').length !== t3.split('\\"').length)
            return false;
        }
        return true;
      }(r2))
        return false;
    } else if (t2.require_display_name)
      return false;
  }
  if (!t2.ignore_max_length && e2.length > 254)
    return false;
  var i2 = e2.split("@"), o2 = i2.pop(), s2 = o2.toLowerCase();
  if (t2.host_blacklist.includes(s2))
    return false;
  if (t2.host_whitelist.length > 0 && !t2.host_whitelist.includes(s2))
    return false;
  var a2 = i2.join("@");
  if (t2.domain_specific_validation && (s2 === "gmail.com" || s2 === "googlemail.com")) {
    var l2 = (a2 = a2.toLowerCase()).split("+")[0];
    if (!qe(l2.replace(/\./g, ""), { min: 6, max: 30 }))
      return false;
    for (var c2 = l2.split("."), d2 = 0; d2 < c2.length; d2++)
      if (!tt.test(c2[d2]))
        return false;
  }
  if (!(t2.ignore_max_length !== false || qe(a2, { max: 64 }) && qe(o2, { max: 254 })))
    return false;
  if (!function(e3, t3) {
    Te(e3), (t3 = He(t3, Ve)).allow_trailing_dot && e3[e3.length - 1] === "." && (e3 = e3.substring(0, e3.length - 1)), t3.allow_wildcard === true && e3.indexOf("*.") === 0 && (e3 = e3.substring(2));
    var n3 = e3.split("."), r3 = n3[n3.length - 1];
    if (t3.require_tld) {
      if (n3.length < 2)
        return false;
      if (!t3.allow_numeric_tld && !/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(r3))
        return false;
      if (/\s/.test(r3))
        return false;
    }
    return !(!t3.allow_numeric_tld && /^\d+$/.test(r3)) && n3.every(function(e4) {
      return !(e4.length > 63 && !t3.ignore_max_length || !/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e4) || /[\uff01-\uff5e]/.test(e4) || /^-|-$/.test(e4) || !t3.allow_underscores && /_/.test(e4));
    });
  }(o2, { require_tld: t2.require_tld, ignore_max_length: t2.ignore_max_length, allow_underscores: t2.allow_underscores })) {
    if (!t2.allow_ip_domain)
      return false;
    if (!Ye(o2)) {
      if (!o2.startsWith("[") || !o2.endsWith("]"))
        return false;
      var u2 = o2.slice(1, -1);
      if (u2.length === 0 || !Ye(u2))
        return false;
    }
  }
  if (a2[0] === '"')
    return a2 = a2.slice(1, a2.length - 1), t2.allow_utf8_local_part ? it.test(a2) : nt.test(a2);
  for (var h2 = t2.allow_utf8_local_part ? rt : et, f2 = a2.split("."), p2 = 0; p2 < f2.length; p2++)
    if (!h2.test(f2[p2]))
      return false;
  return !t2.blacklisted_chars || a2.search(new RegExp("[".concat(t2.blacklisted_chars, "]+"), "g")) === -1;
}
var st = class {
  constructor(e2) {
    this.url = e2;
  }
  open() {
    const e2 = lt();
    return this.window = window.open(this.url, "_blank", e2), this.getWindowResponse();
  }
  getWindowResponse() {
    return new Promise((t2, n2) => {
      let r2 = false;
      const i2 = window.setInterval(() => {
        var e2;
        !r2 && ((e2 = this.window) === null || e2 === void 0 ? void 0 : e2.closed) && n2("User closed the popup");
      }, 500), o2 = (s2) => e(this, void 0, void 0, function* () {
        var e2, a2, l2;
        if (!((e2 = s2 == null ? void 0 : s2.data) === null || e2 === void 0 ? void 0 : e2.status))
          return;
        const c2 = s2.data;
        return r2 = true, this.clear(o2, i2), c2.status === "success" ? ((a2 = this.window) === null || a2 === void 0 || a2.close(), t2("success")) : c2.status == "error" ? ((l2 = this.window) === null || l2 === void 0 || l2.close(), n2(c2.error)) : c2.status === "done" ? t2("done") : void console.log("Unexpected event");
      });
      window.addEventListener("message", o2, false);
    });
  }
  clear(e2, t2) {
    window.removeEventListener("message", e2), window.clearInterval(t2);
  }
};
var at = { titlebar: 0, toolbar: 0, status: 0, menubar: 0, resizable: 0, height: 1200, width: 700, popup: 1 };
var lt = () => {
  const e2 = [];
  for (const t2 in at)
    e2.push(`${t2}=${at[t2]}`);
  return e2.join(",");
};
var ct;
var dt;
var ut;
var ht;
var ft;
var pt = {};
var gt = [];
var _t = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;
function mt(e2, t2) {
  for (var n2 in t2)
    e2[n2] = t2[n2];
  return e2;
}
function vt(e2) {
  var t2 = e2.parentNode;
  t2 && t2.removeChild(e2);
}
function yt(e2, t2, n2, r2, i2) {
  var o2 = { type: e2, props: t2, key: n2, ref: r2, __k: null, __: null, __b: 0, __e: null, __d: void 0, __c: null, __h: null, constructor: void 0, __v: i2 == null ? ++ut : i2 };
  return i2 == null && dt.vnode != null && dt.vnode(o2), o2;
}
function wt(e2) {
  return e2.children;
}
function bt(e2, t2) {
  this.props = e2, this.context = t2;
}
function xt(e2, t2) {
  if (t2 == null)
    return e2.__ ? xt(e2.__, e2.__.__k.indexOf(e2) + 1) : null;
  for (var n2; t2 < e2.__k.length; t2++)
    if ((n2 = e2.__k[t2]) != null && n2.__e != null)
      return n2.__e;
  return typeof e2.type == "function" ? xt(e2) : null;
}
function Ct(e2) {
  var t2, n2;
  if ((e2 = e2.__) != null && e2.__c != null) {
    for (e2.__e = e2.__c.base = null, t2 = 0; t2 < e2.__k.length; t2++)
      if ((n2 = e2.__k[t2]) != null && n2.__e != null) {
        e2.__e = e2.__c.base = n2.__e;
        break;
      }
    return Ct(e2);
  }
}
function Et(e2) {
  (!e2.__d && (e2.__d = true) && ht.push(e2) && !Lt.__r++ || ft !== dt.debounceRendering) && ((ft = dt.debounceRendering) || setTimeout)(Lt);
}
function Lt() {
  for (var e2; Lt.__r = ht.length; )
    e2 = ht.sort(function(e3, t2) {
      return e3.__v.__b - t2.__v.__b;
    }), ht = [], e2.some(function(e3) {
      var t2, n2, r2, i2, o2, s2;
      e3.__d && (o2 = (i2 = (t2 = e3).__v).__e, (s2 = t2.__P) && (n2 = [], (r2 = mt({}, i2)).__v = i2.__v + 1, At(s2, i2, r2, t2.__n, s2.ownerSVGElement !== void 0, i2.__h != null ? [o2] : null, n2, o2 == null ? xt(i2) : o2, i2.__h), jt(n2, i2), i2.__e != o2 && Ct(i2)));
    });
}
function kt(e2, t2, n2, r2, i2, o2, s2, a2, l2, c2) {
  var d2, u2, h2, f2, p2, g2, _2, m2 = r2 && r2.__k || gt, v2 = m2.length;
  for (n2.__k = [], d2 = 0; d2 < t2.length; d2++)
    if ((f2 = n2.__k[d2] = (f2 = t2[d2]) == null || typeof f2 == "boolean" ? null : typeof f2 == "string" || typeof f2 == "number" || typeof f2 == "bigint" ? yt(null, f2, null, null, f2) : Array.isArray(f2) ? yt(wt, { children: f2 }, null, null, null) : f2.__b > 0 ? yt(f2.type, f2.props, f2.key, f2.ref ? f2.ref : null, f2.__v) : f2) != null) {
      if (f2.__ = n2, f2.__b = n2.__b + 1, (h2 = m2[d2]) === null || h2 && f2.key == h2.key && f2.type === h2.type)
        m2[d2] = void 0;
      else
        for (u2 = 0; u2 < v2; u2++) {
          if ((h2 = m2[u2]) && f2.key == h2.key && f2.type === h2.type) {
            m2[u2] = void 0;
            break;
          }
          h2 = null;
        }
      At(e2, f2, h2 = h2 || pt, i2, o2, s2, a2, l2, c2), p2 = f2.__e, (u2 = f2.ref) && h2.ref != u2 && (_2 || (_2 = []), h2.ref && _2.push(h2.ref, null, f2), _2.push(u2, f2.__c || p2, f2)), p2 != null ? (g2 == null && (g2 = p2), typeof f2.type == "function" && f2.__k === h2.__k ? f2.__d = l2 = St(f2, l2, e2) : l2 = Nt(e2, f2, h2, m2, p2, l2), typeof n2.type == "function" && (n2.__d = l2)) : l2 && h2.__e == l2 && l2.parentNode != e2 && (l2 = xt(h2));
    }
  for (n2.__e = g2, d2 = v2; d2--; )
    m2[d2] != null && $t(m2[d2], m2[d2]);
  if (_2)
    for (d2 = 0; d2 < _2.length; d2++)
      Dt(_2[d2], _2[++d2], _2[++d2]);
}
function St(e2, t2, n2) {
  for (var r2, i2 = e2.__k, o2 = 0; i2 && o2 < i2.length; o2++)
    (r2 = i2[o2]) && (r2.__ = e2, t2 = typeof r2.type == "function" ? St(r2, t2, n2) : Nt(n2, r2, r2, i2, r2.__e, t2));
  return t2;
}
function Nt(e2, t2, n2, r2, i2, o2) {
  var s2, a2, l2;
  if (t2.__d !== void 0)
    s2 = t2.__d, t2.__d = void 0;
  else if (n2 == null || i2 != o2 || i2.parentNode == null)
    e:
      if (o2 == null || o2.parentNode !== e2)
        e2.appendChild(i2), s2 = null;
      else {
        for (a2 = o2, l2 = 0; (a2 = a2.nextSibling) && l2 < r2.length; l2 += 2)
          if (a2 == i2)
            break e;
        e2.insertBefore(i2, o2), s2 = o2;
      }
  return s2 !== void 0 ? s2 : i2.nextSibling;
}
function It(e2, t2, n2) {
  t2[0] === "-" ? e2.setProperty(t2, n2) : e2[t2] = n2 == null ? "" : typeof n2 != "number" || _t.test(t2) ? n2 : n2 + "px";
}
function Ot(e2, t2, n2, r2, i2) {
  var o2;
  e:
    if (t2 === "style")
      if (typeof n2 == "string")
        e2.style.cssText = n2;
      else {
        if (typeof r2 == "string" && (e2.style.cssText = r2 = ""), r2)
          for (t2 in r2)
            n2 && t2 in n2 || It(e2.style, t2, "");
        if (n2)
          for (t2 in n2)
            r2 && n2[t2] === r2[t2] || It(e2.style, t2, n2[t2]);
      }
    else if (t2[0] === "o" && t2[1] === "n")
      o2 = t2 !== (t2 = t2.replace(/Capture$/, "")), t2 = t2.toLowerCase() in e2 ? t2.toLowerCase().slice(2) : t2.slice(2), e2.l || (e2.l = {}), e2.l[t2 + o2] = n2, n2 ? r2 || e2.addEventListener(t2, o2 ? Pt : Rt, o2) : e2.removeEventListener(t2, o2 ? Pt : Rt, o2);
    else if (t2 !== "dangerouslySetInnerHTML") {
      if (i2)
        t2 = t2.replace(/xlink(H|:h)/, "h").replace(/sName$/, "s");
      else if (t2 !== "href" && t2 !== "list" && t2 !== "form" && t2 !== "tabIndex" && t2 !== "download" && t2 in e2)
        try {
          e2[t2] = n2 == null ? "" : n2;
          break e;
        } catch (e3) {
        }
      typeof n2 == "function" || (n2 == null || n2 === false && t2.indexOf("-") == -1 ? e2.removeAttribute(t2) : e2.setAttribute(t2, n2));
    }
}
function Rt(e2) {
  this.l[e2.type + false](dt.event ? dt.event(e2) : e2);
}
function Pt(e2) {
  this.l[e2.type + true](dt.event ? dt.event(e2) : e2);
}
function At(e2, t2, n2, r2, i2, o2, s2, a2, l2) {
  var c2, d2, u2, h2, f2, p2, g2, _2, m2, v2, y2, w2, b2, x2 = t2.type;
  if (t2.constructor !== void 0)
    return null;
  n2.__h != null && (l2 = n2.__h, a2 = t2.__e = n2.__e, t2.__h = null, o2 = [a2]), (c2 = dt.__b) && c2(t2);
  try {
    e:
      if (typeof x2 == "function") {
        _2 = t2.props, m2 = (c2 = x2.contextType) && r2[c2.__c], v2 = c2 ? m2 ? m2.props.value : c2.__ : r2, n2.__c ? g2 = (d2 = t2.__c = n2.__c).__ = d2.__E : ("prototype" in x2 && x2.prototype.render ? t2.__c = d2 = new x2(_2, v2) : (t2.__c = d2 = new bt(_2, v2), d2.constructor = x2, d2.render = Ut), m2 && m2.sub(d2), d2.props = _2, d2.state || (d2.state = {}), d2.context = v2, d2.__n = r2, u2 = d2.__d = true, d2.__h = [], d2._sb = []), d2.__s == null && (d2.__s = d2.state), x2.getDerivedStateFromProps != null && (d2.__s == d2.state && (d2.__s = mt({}, d2.__s)), mt(d2.__s, x2.getDerivedStateFromProps(_2, d2.__s))), h2 = d2.props, f2 = d2.state;
        for (c2 = 0; c2 < d2._sb.length; c2++)
          d2.__h.push(d2._sb[c2]), d2._sb = [];
        if (u2)
          x2.getDerivedStateFromProps == null && d2.componentWillMount != null && d2.componentWillMount(), d2.componentDidMount != null && d2.__h.push(d2.componentDidMount);
        else {
          if (x2.getDerivedStateFromProps == null && _2 !== h2 && d2.componentWillReceiveProps != null && d2.componentWillReceiveProps(_2, v2), !d2.__e && d2.shouldComponentUpdate != null && d2.shouldComponentUpdate(_2, d2.__s, v2) === false || t2.__v === n2.__v) {
            d2.props = _2, d2.state = d2.__s, t2.__v !== n2.__v && (d2.__d = false), d2.__v = t2, t2.__e = n2.__e, t2.__k = n2.__k, t2.__k.forEach(function(e3) {
              e3 && (e3.__ = t2);
            }), d2.__h.length && s2.push(d2);
            break e;
          }
          d2.componentWillUpdate != null && d2.componentWillUpdate(_2, d2.__s, v2), d2.componentDidUpdate != null && d2.__h.push(function() {
            d2.componentDidUpdate(h2, f2, p2);
          });
        }
        if (d2.context = v2, d2.props = _2, d2.__v = t2, d2.__P = e2, y2 = dt.__r, w2 = 0, "prototype" in x2 && x2.prototype.render)
          d2.state = d2.__s, d2.__d = false, y2 && y2(t2), c2 = d2.render(d2.props, d2.state, d2.context);
        else
          do {
            d2.__d = false, y2 && y2(t2), c2 = d2.render(d2.props, d2.state, d2.context), d2.state = d2.__s;
          } while (d2.__d && ++w2 < 25);
        d2.state = d2.__s, d2.getChildContext != null && (r2 = mt(mt({}, r2), d2.getChildContext())), u2 || d2.getSnapshotBeforeUpdate == null || (p2 = d2.getSnapshotBeforeUpdate(h2, f2)), b2 = c2 != null && c2.type === wt && c2.key == null ? c2.props.children : c2, kt(e2, Array.isArray(b2) ? b2 : [b2], t2, n2, r2, i2, o2, s2, a2, l2), d2.base = t2.__e, t2.__h = null, d2.__h.length && s2.push(d2), g2 && (d2.__E = d2.__ = null), d2.__e = false;
      } else
        o2 == null && t2.__v === n2.__v ? (t2.__k = n2.__k, t2.__e = n2.__e) : t2.__e = Ft(n2.__e, t2, n2, r2, i2, o2, s2, l2);
    (c2 = dt.diffed) && c2(t2);
  } catch (e3) {
    t2.__v = null, (l2 || o2 != null) && (t2.__e = a2, t2.__h = !!l2, o2[o2.indexOf(a2)] = null), dt.__e(e3, t2, n2);
  }
}
function jt(e2, t2) {
  dt.__c && dt.__c(t2, e2), e2.some(function(t3) {
    try {
      e2 = t3.__h, t3.__h = [], e2.some(function(e3) {
        e3.call(t3);
      });
    } catch (e3) {
      dt.__e(e3, t3.__v);
    }
  });
}
function Ft(e2, t2, n2, r2, i2, o2, s2, a2) {
  var l2, c2, d2, u2 = n2.props, h2 = t2.props, f2 = t2.type, p2 = 0;
  if (f2 === "svg" && (i2 = true), o2 != null) {
    for (; p2 < o2.length; p2++)
      if ((l2 = o2[p2]) && "setAttribute" in l2 == !!f2 && (f2 ? l2.localName === f2 : l2.nodeType === 3)) {
        e2 = l2, o2[p2] = null;
        break;
      }
  }
  if (e2 == null) {
    if (f2 === null)
      return document.createTextNode(h2);
    e2 = i2 ? document.createElementNS("http://www.w3.org/2000/svg", f2) : document.createElement(f2, h2.is && h2), o2 = null, a2 = false;
  }
  if (f2 === null)
    u2 === h2 || a2 && e2.data === h2 || (e2.data = h2);
  else {
    if (o2 = o2 && ct.call(e2.childNodes), c2 = (u2 = n2.props || pt).dangerouslySetInnerHTML, d2 = h2.dangerouslySetInnerHTML, !a2) {
      if (o2 != null)
        for (u2 = {}, p2 = 0; p2 < e2.attributes.length; p2++)
          u2[e2.attributes[p2].name] = e2.attributes[p2].value;
      (d2 || c2) && (d2 && (c2 && d2.__html == c2.__html || d2.__html === e2.innerHTML) || (e2.innerHTML = d2 && d2.__html || ""));
    }
    if (function(e3, t3, n3, r3, i3) {
      var o3;
      for (o3 in n3)
        o3 === "children" || o3 === "key" || o3 in t3 || Ot(e3, o3, null, n3[o3], r3);
      for (o3 in t3)
        i3 && typeof t3[o3] != "function" || o3 === "children" || o3 === "key" || o3 === "value" || o3 === "checked" || n3[o3] === t3[o3] || Ot(e3, o3, t3[o3], n3[o3], r3);
    }(e2, h2, u2, i2, a2), d2)
      t2.__k = [];
    else if (p2 = t2.props.children, kt(e2, Array.isArray(p2) ? p2 : [p2], t2, n2, r2, i2 && f2 !== "foreignObject", o2, s2, o2 ? o2[0] : n2.__k && xt(n2, 0), a2), o2 != null)
      for (p2 = o2.length; p2--; )
        o2[p2] != null && vt(o2[p2]);
    a2 || ("value" in h2 && (p2 = h2.value) !== void 0 && (p2 !== e2.value || f2 === "progress" && !p2 || f2 === "option" && p2 !== u2.value) && Ot(e2, "value", p2, u2.value, false), "checked" in h2 && (p2 = h2.checked) !== void 0 && p2 !== e2.checked && Ot(e2, "checked", p2, u2.checked, false));
  }
  return e2;
}
function Dt(e2, t2, n2) {
  try {
    typeof e2 == "function" ? e2(t2) : e2.current = t2;
  } catch (e3) {
    dt.__e(e3, n2);
  }
}
function $t(e2, t2, n2) {
  var r2, i2;
  if (dt.unmount && dt.unmount(e2), (r2 = e2.ref) && (r2.current && r2.current !== e2.__e || Dt(r2, null, t2)), (r2 = e2.__c) != null) {
    if (r2.componentWillUnmount)
      try {
        r2.componentWillUnmount();
      } catch (e3) {
        dt.__e(e3, t2);
      }
    r2.base = r2.__P = null, e2.__c = void 0;
  }
  if (r2 = e2.__k)
    for (i2 = 0; i2 < r2.length; i2++)
      r2[i2] && $t(r2[i2], t2, n2 || typeof e2.type != "function");
  n2 || e2.__e == null || vt(e2.__e), e2.__ = e2.__e = e2.__d = void 0;
}
function Ut(e2, t2, n2) {
  return this.constructor(e2, n2);
}
function Mt(e2, t2, n2) {
  var r2, i2, o2;
  dt.__ && dt.__(e2, t2), i2 = (r2 = typeof n2 == "function") ? null : n2 && n2.__k || t2.__k, o2 = [], At(t2, e2 = (!r2 && n2 || t2).__k = function(e3, t3, n3) {
    var r3, i3, o3, s2 = {};
    for (o3 in t3)
      o3 == "key" ? r3 = t3[o3] : o3 == "ref" ? i3 = t3[o3] : s2[o3] = t3[o3];
    if (arguments.length > 2 && (s2.children = arguments.length > 3 ? ct.call(arguments, 2) : n3), typeof e3 == "function" && e3.defaultProps != null)
      for (o3 in e3.defaultProps)
        s2[o3] === void 0 && (s2[o3] = e3.defaultProps[o3]);
    return yt(e3, s2, r3, i3, null);
  }(wt, null, [e2]), i2 || pt, pt, t2.ownerSVGElement !== void 0, !r2 && n2 ? [n2] : i2 ? null : t2.firstChild ? ct.call(t2.childNodes) : null, o2, !r2 && n2 ? n2 : i2 ? i2.__e : t2.firstChild, r2), jt(o2, e2);
}
ct = gt.slice, dt = { __e: function(e2, t2, n2, r2) {
  for (var i2, o2, s2; t2 = t2.__; )
    if ((i2 = t2.__c) && !i2.__)
      try {
        if ((o2 = i2.constructor) && o2.getDerivedStateFromError != null && (i2.setState(o2.getDerivedStateFromError(e2)), s2 = i2.__d), i2.componentDidCatch != null && (i2.componentDidCatch(e2, r2 || {}), s2 = i2.__d), s2)
          return i2.__E = i2;
      } catch (t3) {
        e2 = t3;
      }
  throw e2;
} }, ut = 0, bt.prototype.setState = function(e2, t2) {
  var n2;
  n2 = this.__s != null && this.__s !== this.state ? this.__s : this.__s = mt({}, this.state), typeof e2 == "function" && (e2 = e2(mt({}, n2), this.props)), e2 && mt(n2, e2), e2 != null && this.__v && (t2 && this._sb.push(t2), Et(this));
}, bt.prototype.forceUpdate = function(e2) {
  this.__v && (this.__e = true, e2 && this.__h.push(e2), Et(this));
}, bt.prototype.render = wt, ht = [], Lt.__r = 0;
var Wt = 0;
function Tt(e2, t2, n2, r2, i2) {
  var o2, s2, a2 = {};
  for (s2 in t2)
    s2 == "ref" ? o2 = t2[s2] : a2[s2] = t2[s2];
  var l2 = { type: e2, props: a2, key: n2, ref: o2, __k: null, __: null, __b: 0, __e: null, __d: void 0, __c: null, __h: null, constructor: void 0, __v: --Wt, __source: i2, __self: r2 };
  if (typeof e2 == "function" && (o2 = e2.defaultProps))
    for (s2 in o2)
      a2[s2] === void 0 && (a2[s2] = o2[s2]);
  return dt.vnode && dt.vnode(l2), l2;
}
var zt = "https://auth-icons.s3.ap-south-1.amazonaws.com";
var qt = { google: `${zt}/google.png`, twitter: `${zt}/twitter.png`, github: `${zt}/github-light.png`, github_light: `${zt}/github.png`, twitch: `${zt}/twitch.png`, discord: `${zt}/discord.png`, aws: `${zt}/aws.png`, aws_light: `${zt}/aws_light.png`, steam: `${zt}/steam.png` };
var Ht = { light: `${zt}/secured-by-arcana-light.svg`, dark: `${zt}/secured-by-arcana-dark.svg` };
var Vt;
var Gt;
var Jt;
var Kt;
var Bt = 0;
var Zt = [];
var Yt = [];
var Xt = dt.__b;
var Qt = dt.__r;
var en = dt.diffed;
var tn = dt.__c;
var nn = dt.unmount;
function rn(e2, t2) {
  dt.__h && dt.__h(Gt, e2, Bt || t2), Bt = 0;
  var n2 = Gt.__H || (Gt.__H = { __: [], __h: [] });
  return e2 >= n2.__.length && n2.__.push({ __V: Yt }), n2.__[e2];
}
function on(e2) {
  return Bt = 1, sn(hn, e2);
}
function sn(e2, t2, n2) {
  var r2 = rn(Vt++, 2);
  if (r2.t = e2, !r2.__c && (r2.__ = [n2 ? n2(t2) : hn(void 0, t2), function(e3) {
    var t3 = r2.__N ? r2.__N[0] : r2.__[0], n3 = r2.t(t3, e3);
    t3 !== n3 && (r2.__N = [n3, r2.__[1]], r2.__c.setState({}));
  }], r2.__c = Gt, !Gt.u)) {
    Gt.u = true;
    var i2 = Gt.shouldComponentUpdate;
    Gt.shouldComponentUpdate = function(e3, t3, n3) {
      if (!r2.__c.__H)
        return true;
      var o2 = r2.__c.__H.__.filter(function(e4) {
        return e4.__c;
      });
      if (o2.every(function(e4) {
        return !e4.__N;
      }))
        return !i2 || i2.call(this, e3, t3, n3);
      var s2 = false;
      return o2.forEach(function(e4) {
        if (e4.__N) {
          var t4 = e4.__[0];
          e4.__ = e4.__N, e4.__N = void 0, t4 !== e4.__[0] && (s2 = true);
        }
      }), !(!s2 && r2.__c.props === e3) && (!i2 || i2.call(this, e3, t3, n3));
    };
  }
  return r2.__N || r2.__;
}
function an() {
  for (var e2; e2 = Zt.shift(); )
    if (e2.__P && e2.__H)
      try {
        e2.__H.__h.forEach(dn), e2.__H.__h.forEach(un), e2.__H.__h = [];
      } catch (t2) {
        e2.__H.__h = [], dt.__e(t2, e2.__v);
      }
}
dt.__b = function(e2) {
  typeof e2.type != "function" || e2.__m || e2.type === wt ? e2.__m || (e2.__m = e2.__ && e2.__.__m ? e2.__.__m : "") : e2.__m = (e2.__ && e2.__.__m ? e2.__.__m : "") + (e2.__ && e2.__.__k ? e2.__.__k.indexOf(e2) : 0), Gt = null, Xt && Xt(e2);
}, dt.__r = function(e2) {
  Qt && Qt(e2), Vt = 0;
  var t2 = (Gt = e2.__c).__H;
  t2 && (Jt === Gt ? (t2.__h = [], Gt.__h = [], t2.__.forEach(function(e3) {
    e3.__N && (e3.__ = e3.__N), e3.__V = Yt, e3.__N = e3.i = void 0;
  })) : (t2.__h.forEach(dn), t2.__h.forEach(un), t2.__h = [])), Jt = Gt;
}, dt.diffed = function(e2) {
  en && en(e2);
  var t2 = e2.__c;
  t2 && t2.__H && (t2.__H.__h.length && (Zt.push(t2) !== 1 && Kt === dt.requestAnimationFrame || ((Kt = dt.requestAnimationFrame) || cn)(an)), t2.__H.__.forEach(function(e3) {
    e3.i && (e3.__H = e3.i), e3.__V !== Yt && (e3.__ = e3.__V), e3.i = void 0, e3.__V = Yt;
  })), Jt = Gt = null;
}, dt.__c = function(e2, t2) {
  t2.some(function(e3) {
    try {
      e3.__h.forEach(dn), e3.__h = e3.__h.filter(function(e4) {
        return !e4.__ || un(e4);
      });
    } catch (n2) {
      t2.some(function(e4) {
        e4.__h && (e4.__h = []);
      }), t2 = [], dt.__e(n2, e3.__v);
    }
  }), tn && tn(e2, t2);
}, dt.unmount = function(e2) {
  nn && nn(e2);
  var t2, n2 = e2.__c;
  n2 && n2.__H && (n2.__H.__.forEach(function(e3) {
    try {
      dn(e3);
    } catch (e4) {
      t2 = e4;
    }
  }), n2.__H = void 0, t2 && dt.__e(t2, n2.__v));
};
var ln = typeof requestAnimationFrame == "function";
function cn(e2) {
  var t2, n2 = function() {
    clearTimeout(r2), ln && cancelAnimationFrame(t2), setTimeout(e2);
  }, r2 = setTimeout(n2, 100);
  ln && (t2 = requestAnimationFrame(n2));
}
function dn(e2) {
  var t2 = Gt, n2 = e2.__c;
  typeof n2 == "function" && (e2.__c = void 0, n2()), Gt = t2;
}
function un(e2) {
  var t2 = Gt;
  e2.__c = e2.__(), Gt = t2;
}
function hn(e2, t2) {
  return typeof t2 == "function" ? t2(e2) : t2;
}
function fn(e2) {
  const t2 = e2.compact ? 60 : 80, { stroke: n2 = 8, secondaryColor: r2 } = e2;
  return Tt("div", Object.assign({ "aria-label": "oval-loading" }, { children: Tt("svg", Object.assign({ width: t2, height: t2, viewBox: pn(Number(n2), 20), xmlns: "http://www.w3.org/2000/svg", className: "xar-loader-circle", "data-testid": "oval-svg" }, { children: Tt("g", Object.assign({ fill: "none", fillRule: "evenodd" }, { children: Tt("g", Object.assign({ transform: "translate(1 1)", "stroke-width": n2, "data-testid": "oval-secondary-group" }, { children: [Tt("circle", { strokeOpacity: ".5", cx: "0", cy: "0", r: 20, stroke: r2, "stroke-width": n2, opacity: 0.3 }), Tt("path", Object.assign({ d: gn(20), stroke: e2.strokeColor }, { children: Tt("animateTransform", { attributeName: "transform", type: "rotate", from: "0 0 0", to: "360 0 0", dur: "1s", repeatCount: "indefinite" }) }))] })) })) })) }));
}
var pn = (e2, t2) => {
  const n2 = -t2 - e2 / 2 + 1, r2 = 2 * t2 + e2;
  return [n2, n2, r2, r2].join(" ");
};
var gn = (e2) => ["M" + e2 + " 0c0-9.94-8.06", e2, e2, e2].join("-");
!function(e2, t2) {
  t2 === void 0 && (t2 = {});
  var n2 = t2.insertAt;
  if (e2 && typeof document != "undefined") {
    var r2 = document.head || document.getElementsByTagName("head")[0], i2 = document.createElement("style");
    i2.type = "text/css", n2 === "top" && r2.firstChild ? r2.insertBefore(i2, r2.firstChild) : r2.appendChild(i2), i2.styleSheet ? i2.styleSheet.cssText = e2 : i2.appendChild(document.createTextNode(e2));
  }
}("@import url('https://fonts.googleapis.com/css2?family=Sora:wght@100;400;600;700&display=block');\n\n.xar-light-mode {\n  --fg: #333333;\n  --bg: #eff1f3;\n  --background: #fcfcfc;\n  --inputShadow: 0 0 8px 3px rgba(126, 126, 126, 0.25);\n}\n\n.xar-dark-mode {\n  --fg: #ffffff;\n  --bg: #313131;\n  --background: #1f1f1f;\n  --inputShadow: 0 0 8px 3px rgba(0, 0, 0, 0.05);\n}\n\n.compact {\n  --modal-height: 235px;\n  --loader-font-size: 14px;\n  --loader-font-weight: 400;\n  --success-img-width: 70px;\n  --action-link-size: 12px;\n}\n\n.full {\n  --modal-height: 480px;\n  --loader-font-size: 20px;\n  --loader-font-weight: 700;\n  --success-img-width: 100px;\n  --action-link-size: 15px;\n}\n\n#xar-modal {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: fixed;\n  z-index: 2147483648;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  background: rgba(10, 10, 10, 0.7);\n  backdrop-filter: blur(16px);\n  font-family: Sora, sans-serif;\n}\n\n.xar-header-logo__container {\n  width: 70px;\n  height: 70px;\n  border-radius: 50%;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 2px solid var(--fg);\n}\n\n.xar-header-logo__empty-container {\n  width: 70px;\n  height: 70px;\n  border-radius: 50%;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.xar-header-logo {\n  max-width: 60px;\n  max-height: 60px;\n  margin: 0 auto;\n  display: inline-block;\n}\n\n.xar-header-heading {\n  font-family: 'Sora', sans-serif;\n  text-align: center;\n}\n\n.xar-header-subtext {\n  font-family: 'Sora', sans-serif;\n  font-size: 12px;\n  font-weight: 400;\n  max-width: 200px;\n}\n\n.xar-email-login {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n}\n\n.xar-email-login > *:not(:first-child) {\n  margin-top: 20px;\n}\n\n.xar-email-login__label {\n  text-align: left;\n  font-size: 14px;\n  color: var(--fg);\n  font-weight: 400;\n}\n\n.xar-success__img {\n  max-width: var(--success-img-width);\n}\n\n.xar-email-login__input {\n  height: 45px;\n  padding: 0 16px;\n  font-size: 14px;\n  font-weight: 400;\n  color: var(--fg);\n  background: var(--bg);\n  border: none;\n  border-radius: 5px;\n  outline: none;\n  box-shadow: var(--inputShadow);\n}\n\n.xar-social-container {\n  display: flex;\n  justify-content: center;\n  gap: 1rem;\n  flex-wrap: wrap;\n}\n\n.xar-social-icon__wrapper {\n  display: flex;\n  background: var(--fg);\n  width: 42px;\n  height: 42px;\n  border-radius: 50%;\n  align-items: center;\n}\n\n.xar-social-icon__wrapper:hover {\n  cursor: pointer;\n  transition: all 0.5s;\n  transform: scale(1.15, 1.15);\n}\n\n.xar-social-icon {\n  margin: 0 auto;\n  width: 24px;\n  max-height: 24px;\n}\n\n.xar-container {\n  padding: 30px 30px 20px;\n  width: 325px;\n  min-height: var(--modal-height);\n  background-color: var(--background);\n  color: var(--fg);\n  margin: 0 auto;\n  font-family: 'Sora', sans-serif;\n  box-shadow: 4px 5px 4px rgba(0, 0, 0, 0.25);\n  border-radius: 10px;\n  box-sizing: content-box;\n}\n\n.xar-inner-container {\n  min-height: inherit;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n}\n\n.xar-inner-container > *:not(:first-child) {\n  margin-top: 20px;\n}\n\n.xar-btn {\n  width: 100%;\n  height: 2.75rem;\n  font-size: 14px;\n  font-weight: 600;\n  text-transform: uppercase;\n  color: var(--bg);\n  background: var(--fg);\n  border: none;\n  border-radius: 5px;\n}\n\n.xar-btn:disabled {\n  opacity: 0.7;\n}\n\n.xar-btn:hover:enabled {\n  cursor: pointer;\n  transition: all 0.5s;\n  transform: scale(1.05, 1.15);\n}\n\n.xar-btn:disabled,\n.xar-btn[disabled] {\n  cursor: not-allowed;\n}\n\n.xar-footer {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 1rem;\n}\n\n.xar-footer-text {\n  font-size: 12px;\n  font-weight: 400;\n}\n\n.xar-footer-img__link {\n  height: 15px;\n}\n\n.xar-footer-img {\n  display: block;\n}\n\n.xar-separator {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  text-align: center;\n}\n\n.xar-separator:before,\n.xar-separator:after {\n  content: '';\n  flex: 1 1 auto;\n  border-bottom: 1px solid var(--fg);\n}\n\n.xar-separator:before {\n  margin-right: 1rem;\n}\n\n.xar-separator:after {\n  margin-left: 1rem;\n}\n\n.xar-action__link {\n  text-underline-offset: 3px;\n  text-transform: uppercase;\n  text-decoration: underline;\n  color: #3e9aff;\n  font-weight: 700;\n  font-size: var(--action-link-size);\n  line-height: 19px;\n  cursor: pointer;\n}\n\n.xar-loader__text {\n  font-size: var(--loader-font-size);\n  font-weight: var(--loader-font-weight);\n}\n\n.xar-loader-circle {\n  stroke: var(--fg);\n}\n");
var _n = ({ compact: e2, logo: t2 }) => {
  const [n2, r2] = on(false);
  return Tt(wt, { children: [n2 ? "" : Tt("div", { className: "xar-header-logo__empty-container" }), Tt("div", Object.assign({ className: "xar-header-logo__container", style: n2 ? {} : { display: "none" } }, { children: Tt("img", { className: "xar-header-logo", src: t2, alt: "app-logo", onLoad: () => {
    r2(false);
  } }) })), e2 ? "" : Tt("div", Object.assign({ className: "xar-header-text" }, { children: [Tt("h1", Object.assign({ className: "xar-header-heading" }, { children: "Welcome" })), Tt("p", Object.assign({ className: "xar-header-subtext" }, { children: "We\u2019ll email you a login link for a password-free sign in." }))] }))] });
};
var mn = ({ loginWithLink: t2, email: n2, setEmail: r2 }) => {
  const [i2, o2] = on(true);
  return function(e2, t3) {
    var n3 = rn(Vt++, 3);
    !dt.__s && function(e3, t4) {
      return !e3 || e3.length !== t4.length || t4.some(function(t5, n4) {
        return t5 !== e3[n4];
      });
    }(n3.__H, t3) && (n3.__ = e2, n3.i = t3, Gt.__H.__h.push(n3));
  }(() => {
    o2(!ot(n2));
  }, []), Tt("form", Object.assign({ className: "xar-email-login" }, { children: [Tt("input", { value: n2, onInput: (e2) => {
    r2(e2.currentTarget.value), o2(!ot(e2.currentTarget.value));
  }, className: "xar-email-login__input", type: "text", placeholder: "Enter your email" }), Tt("button", Object.assign({ disabled: i2, onClick: (r3) => e(void 0, void 0, void 0, function* () {
    r3.preventDefault(), n2 && (yield t2(n2));
  }), className: "xar-btn" }, { children: "Get Login Link" }))] }));
};
var vn = ({ text: e2 }) => Tt("div", Object.assign({ className: "xar-separator" }, { children: e2 }));
var yn = ({ loginWithSocial: e2, loginList: t2, mode: n2 }) => Tt("div", Object.assign({ className: "xar-social-container" }, { children: t2.map((t3) => {
  return Tt("div", Object.assign({ className: "xar-social-icon__wrapper", onClick: () => ((t4) => e2(t4))(t3) }, { children: Tt("img", { src: (r2 = t3, i2 = n2, qt[`${r2}_${i2}`] ? qt[`${r2}_${i2}`] : qt[r2]), alt: `${t3} logo`, className: "xar-social-icon" }) }));
  var r2, i2;
}) }));
var wn = ({ mode: e2 }) => {
  const t2 = Ht[e2];
  return Tt("div", Object.assign({ className: "xar-footer" }, { children: Tt("a", Object.assign({ href: "https://arcana.network", target: "_blank", className: "xar-footer-img__link" }, { children: Tt("img", { className: "xar-footer-img", src: t2, alt: "Secured By Arcana" }) })) }));
};
var bn = (e2) => Tt(wt, { children: [e2.header ? e2.header : Tt(fn, { compact: e2.compact, stroke: 8, secondaryColor: "#8D8D8D" }), e2.text ? Tt("p", Object.assign({ className: "xar-loader__text" }, { children: e2.text })) : "", e2.children ? Tt(wt, { children: e2.children }) : ""] });
var xn = ({ children: e2, mode: t2 }) => Tt("div", Object.assign({ class: "xar-container" }, { children: [Tt("div", Object.assign({ class: "xar-inner-container" }, { children: e2 })), Tt(wn, { mode: t2 })] }));
var Cn = ({ text: e2, method: t2 }) => Tt("div", Object.assign({ class: "xar-action-container" }, { children: Tt("p", Object.assign({ onClick: () => t2(), className: "xar-action__link" }, { children: e2 })) }));
var En = "xar-modal";
var Ln = (e2) => Tt("div", Object.assign({ id: En, onClick: (t2) => {
  var n2;
  ((n2 = t2.target) === null || n2 === void 0 ? void 0 : n2.id) == En && e2.closeFunc && e2.closeFunc(new Error("User closed the connect modal"));
} }, { children: e2.children }));
var kn = { SOCIAL: "Please complete the login to proceed", LINK: "Sending login link to your email", LINK_SENT: "Please complete the login by clicking on email" };
var Sn = { text: "", loading: false, type: "" };
var Nn = (e2, t2) => t2 == "SOCIAL" || t2 == "LINK" || t2 == "LINK_SENT" ? { text: kn[t2], type: t2, loading: true } : t2 == "RESET" ? Sn : e2;
var In = (t2) => {
  const [n2, r2] = sn(Nn, Sn), [i2, o2] = on(""), s2 = () => e(void 0, void 0, void 0, function* () {
    i2 && (r2("LINK"), t2.loginWithLink(i2, () => {
      r2("LINK_SENT");
    }).finally(() => {
      r2("RESET");
    }));
  });
  return n2.loading ? Tt(Ln, { children: Tt(xn, Object.assign({ mode: t2.mode }, { children: Tt(bn, Object.assign({ compact: t2.options.compact, text: n2.text, mode: t2.mode, header: n2.type == "LINK_SENT" ? Tt("img", { className: "xar-success__img", src: ie }) : void 0 }, { children: n2.type == "LINK_SENT" ? Tt(wt, { children: [Tt(Cn, { method: () => s2(), text: "Resend email" }), Tt(Cn, { method: () => r2("RESET"), text: "Change email id" })] }) : null })) })) }) : Tt(Ln, Object.assign({ closeFunc: t2.closeFunc }, { children: Tt(xn, Object.assign({ mode: t2.mode }, { children: [Tt(_n, { compact: t2.options.compact, logo: t2.logo }), Tt(mn, { email: i2, setEmail: o2, loginWithLink: s2 }), t2.loginList.length > 0 ? Tt(wt, { children: [Tt(vn, { text: "or continue with" }), Tt(yn, { loginWithSocial: (n3) => e(void 0, void 0, void 0, function* () {
    r2("SOCIAL"), t2.loginWithSocial(n3).finally(() => {
      r2("RESET");
    });
  }), loginList: t2.loginList, mode: t2.mode })] }) : null] })) }));
};
var On = class {
  constructor(e2) {
    this.status = "closed", this.close = (e3) => {
      this.status !== "closed" && (this.onClose(e3), this.status = "closed", Mt(null, this.container));
    }, this.params = { loginList: e2.loginList.filter((e3) => e3 !== "passwordless"), loginWithSocial: e2.loginWithSocial, loginWithLink: e2.loginWithLink, mode: e2.mode, closeFunc: this.close, logo: e2.logo, options: e2.options }, this.createContainer();
  }
  open(e2) {
    this.status !== "open" && (this.onClose = e2, this.status = "open", Mt(Tt(In, Object.assign({}, this.params)), this.container));
  }
  createContainer() {
    const e2 = this.params.options.compact ? "compact" : "full";
    this.container = document.createElement("div"), this.container.setAttribute("id", "xar-login-container"), this.container.classList.add(`xar-${this.params.mode}-mode`), this.container.classList.add(e2), document.body.appendChild(this.container);
  }
};
var Rn = class {
  constructor(t2, n2) {
    this.initStatus = ge.CREATED, this.initPromises = [], this.loginWithSocial = (t3) => e(this, void 0, void 0, function* () {
      if (this.initStatus === ge.DONE) {
        if (yield this.isLoggedIn())
          return this._provider;
        if (!(yield this._provider.isLoginAvailable(t3)))
          throw new Error(`${t3} login is not available`);
        const e2 = yield this._provider.initSocialLogin(t3);
        return this.beginLogin(e2);
      }
      throw B;
    }), this.loginWithLink = (t3, n3) => e(this, void 0, void 0, function* () {
      if (this.initStatus === ge.DONE) {
        if (yield this.isLoggedIn())
          return this._provider;
        if (!ot(t3))
          throw new Error("Invalid email");
        return yield this._provider.initPasswordlessLogin(t3), n3 && n3(), yield this.waitForConnect();
      }
      throw B;
    }), this.loginWithBearer = (t3, n3) => e(this, void 0, void 0, function* () {
      if (this.initStatus !== ge.DONE)
        throw B;
      return yield this.iframeWrapper.triggerBearerAuthentication(t3, n3);
    });
    let r2 = n2 == null ? void 0 : n2.network, i2 = t2;
    if (((e2) => e2.split("_").length == 3)(t2)) {
      const e2 = ((e3) => {
        const t3 = e3.split("_"), [, n3, r3] = t3;
        if (!oe(r3))
          throw new Error("Invalid ClientId");
        if (n3 == "live")
          return { network: "mainnet", address: r3 };
        if (n3 == "test")
          return { network: "testnet", address: r3 };
        if (n3 == "dev")
          return { network: "dev", address: r3 };
        throw new Error("Invalid ClientId");
      })(t2);
      r2 = e2.network, i2 = e2.address;
    }
    ((e2) => {
      if (!((e3) => e3 != null)(e2))
        throw new Error("appAddress is required");
      if (!((e3) => typeof e3 == "string" && e3.trim().length > 0)(e2))
        throw new Error("appAddress is required to be a non-empty string");
      if (!oe(e2))
        throw new Error("appAddress is required to be an ethereum address");
    })(i2), this.appId = se(i2), this.params = ((e2) => {
      var t3;
      const n3 = { network: "testnet", debug: false, position: "right", theme: "dark", alwaysVisible: true, setWindowProvider: false, connectOptions: { compact: false } };
      return (e2 == null ? void 0 : e2.network) && (n3.network = e2.network), (e2 == null ? void 0 : e2.debug) !== void 0 && (n3.debug = e2.debug), (e2 == null ? void 0 : e2.redirectUrl) && (n3.redirectUrl = e2.redirectUrl), (e2 == null ? void 0 : e2.chainConfig) && (n3.chainConfig = e2.chainConfig), (e2 == null ? void 0 : e2.theme) && (n3.theme = e2.theme), (e2 == null ? void 0 : e2.position) && (n3.position = e2.position), (e2 == null ? void 0 : e2.alwaysVisible) !== void 0 && (n3.alwaysVisible = e2.alwaysVisible), ((t3 = e2 == null ? void 0 : e2.connectOptions) === null || t3 === void 0 ? void 0 : t3.compact) !== void 0 && (n3.connectOptions.compact = e2.connectOptions.compact), n3.network != "testnet" && n3.network != "dev" || console.log(`%c[Arcana Auth] You are currently on ${n3.network} network.`, "color: red"), n3;
    })(Object.assign(Object.assign({}, n2), { network: r2 })), this.networkConfig = ((e2) => {
      if (typeof e2 == "string" && e2 == "testnet")
        return Ue;
      if (typeof e2 == "string" && e2 == "dev")
        return $e;
      if (typeof e2 == "string" && e2 == "mainnet")
        return Me;
      if (function(e3) {
        return typeof e3 != "string" && (!(typeof e3 != "object" || !e3.gatewayUrl) && (!(typeof e3 != "object" || !e3.walletUrl) && !(typeof e3 != "object" || !e3.authUrl)));
      }(e2))
        return e2;
      throw new Error("Invalid network config passed");
    })(this.params.network), function(e2, t3) {
      try {
        if (typeof document == "undefined")
          return;
        const n3 = document.createElement("link");
        n3.href = `${e2}/${t3}/login`, n3.type = "text/html", n3.rel = "prefetch", document.head.appendChild(n3);
      } catch (e3) {
        console.warn(e3);
      }
    }(this.networkConfig.walletUrl, this.appId), this.rpcConfig = this.params.chainConfig, this._provider = new fe(this.rpcConfig), this.params.debug ? (te(Y.DEBUG), ee = (e2) => {
      console.error(e2);
    }) : te(Y.NOLOGS);
  }
  init() {
    var t2;
    return e(this, void 0, void 0, function* () {
      return this.initStatus === ge.CREATED ? (this.initStatus = ge.RUNNING, this.iframeWrapper || (yield this.setAppConfig(), this.iframeWrapper = new De({ appId: this.appId, iframeUrl: this.networkConfig.walletUrl, appConfig: this.appConfig, position: this.params.position, standaloneMode: this._standaloneMode }), this.iframeWrapper.setWalletType((t2 = this.params.appMode) !== null && t2 !== void 0 ? t2 : this.params.alwaysVisible ? me.Full : me.Widget), yield this._provider.init(this.iframeWrapper, { loginWithLink: this.loginWithLink, loginWithSocial: this.loginWithSocial }), this.setProviders(), this.initStatus = ge.DONE, this.resolveInitPromises()), this) : this.initStatus === ge.RUNNING ? yield this.waitForInit() : this;
    });
  }
  connect() {
    return e(this, void 0, void 0, function* () {
      if (this.initStatus !== ge.DONE && (yield this.init()), yield this.isLoggedIn())
        return this._provider;
      const e2 = yield this.getLogins();
      return this.connectCtrl || (this.connectCtrl = new On({ loginWithLink: this.loginWithLink, loginWithSocial: this.loginWithSocial, loginList: e2, mode: this.theme, logo: this.logo.vertical, options: this.params.connectOptions })), new Promise((e3, t2) => {
        this.connectCtrl.open((e4) => {
          if (e4)
            return t2(e4);
        }), this.waitForConnect().then((t3) => {
          this.connectCtrl.close(), e3(t3);
        }).catch(t2);
      });
    });
  }
  showWallet() {
    if (!this.connected)
      throw new Error("no connection yet, cannot show wallet");
    this._provider.expandWallet();
  }
  get connected() {
    return this._provider.connected;
  }
  getUser() {
    if (this.initStatus === ge.DONE)
      return this._provider.requestUserInfo();
    throw B;
  }
  isLoggedIn() {
    return e(this, void 0, void 0, function* () {
      if (this.initStatus === ge.DONE) {
        return this._provider.isLoggedIn();
      }
      throw B;
    });
  }
  logout() {
    if (this.initStatus === ge.DONE)
      return this._provider.triggerLogout();
    throw B;
  }
  getPublicKey(t2, n2 = "google") {
    return e(this, void 0, void 0, function* () {
      if (this.initStatus === ge.DONE) {
        if (!t2 || t2 === "")
          throw new J("email_required", `Email is required in getPublicKey, got ${t2}`);
        return yield this._provider.getPublicKey(t2, n2);
      }
      throw B;
    });
  }
  getLogins() {
    return e(this, void 0, void 0, function* () {
      if (this.initStatus === ge.DONE)
        return yield this._provider.getAvailableLogins();
      throw B;
    });
  }
  getProvider() {
    if (this.initStatus === ge.DONE)
      return this._provider;
    throw B;
  }
  canReconnect() {
    return e(this, void 0, void 0, function* () {
      if (yield this.init(), yield this.isLoggedIn())
        return false;
      const e2 = this.iframeWrapper.getSessionID();
      return !!e2 && !(e2.expiry < Date.now());
    });
  }
  reconnect() {
    return e(this, void 0, void 0, function* () {
      if (yield this.init(), yield this.isLoggedIn())
        return void (yield this.waitForConnect());
      const e2 = this.iframeWrapper.getSessionID();
      if (e2) {
        if (e2.expiry < Date.now())
          throw new Error("cannot reconnect, session expired");
        const t2 = new URL(yield this._provider.getReconnectionUrl());
        t2.searchParams.set("sessionID", e2.id);
        const n2 = new st(t2.toString());
        return yield n2.open(), void (yield this.waitForConnect());
      }
      throw new Error("cannot reconnect, no session found");
    });
  }
  get chainId() {
    return this._provider.chainId;
  }
  beginLogin(t2) {
    return e(this, void 0, void 0, function* () {
      const e2 = new st(t2);
      return yield e2.open(), yield this.waitForConnect();
    });
  }
  waitForConnect() {
    return new Promise((e2) => {
      if (this.connected)
        return e2(this._provider);
      this._provider.once("connect", () => e2(this._provider));
    });
  }
  setAppConfig() {
    return e(this, void 0, void 0, function* () {
      const t2 = yield function(t3, n3) {
        return e(this, void 0, void 0, function* () {
          const e2 = new URL(`/api/v1/get-app-theme/?id=${t3}`, n3);
          return yield (yield fetch(e2.toString())).json();
        });
      }(this.appId, this.networkConfig.gatewayUrl), n2 = function(e2, t3, n3) {
        const r3 = new URL(`/api/v2/app/${e2}/logo?type=${t3}`, n3);
        return { horizontal: `${r3.toString()}&orientation=horizontal`, vertical: `${r3.toString()}&orientation=vertical` };
      }(this.appId, this.params.theme, this.networkConfig.gatewayUrl), r2 = t2.logo.dark_horizontal || t2.logo.light_horizontal, i2 = t2.logo.dark_vertical || t2.logo.light_vertical;
      this.appConfig = { name: t2.name, themeConfig: { assets: { logo: { horizontal: r2 ? n2.horizontal : "", vertical: i2 ? n2.vertical : "" } }, theme: this.params.theme } };
    });
  }
  waitForInit() {
    return e(this, void 0, void 0, function* () {
      const e2 = new Promise((e3) => {
        this.initPromises.push(e3);
      });
      return yield e2;
    });
  }
  resolveInitPromises() {
    const e2 = this.initPromises;
    this.initPromises = [];
    for (const t2 of e2)
      t2(this);
  }
  get provider() {
    if (this._provider)
      return this._provider;
    throw B;
  }
  get logo() {
    if (this.initStatus === ge.DONE)
      return this.appConfig.themeConfig.assets.logo;
    throw B;
  }
  get theme() {
    if (this.initStatus === ge.DONE)
      return this.appConfig.themeConfig.theme;
    throw B;
  }
  setProviders() {
    var e2, t2, n2;
    const r2 = window;
    try {
      r2.arcana = (e2 = r2.arcana) !== null && e2 !== void 0 ? e2 : {}, r2.arcana.provider = this._provider;
    } catch (e3) {
    }
    if (this.params.setWindowProvider)
      try {
        r2.ethereum = (t2 = r2.ethereum) !== null && t2 !== void 0 ? t2 : this._provider, r2.ethereum.providers = (n2 = r2.ethereum.providers) !== null && n2 !== void 0 ? n2 : [], r2.ethereum.providers.push(this._provider);
      } catch (e3) {
        console.error(e3);
      }
  }
  standaloneMode(e2, t2) {
    this._standaloneMode = { mode: e2, handler: t2 };
  }
};
export {
  Rn as AuthProvider,
  _e as BearerAuthentication
};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
//# sourceMappingURL=@arcana_auth.js.map
